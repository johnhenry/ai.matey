<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api/generated/ai.matey.utils/src/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">README | ai.matey</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://johnhenry.github.io/ai.matey/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://johnhenry.github.io/ai.matey/img/og-image.png"><meta data-rh="true" property="og:url" content="https://johnhenry.github.io/ai.matey/api/generated/ai.matey.utils/src"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="README | ai.matey"><meta data-rh="true" name="description" content="ai.matey API Documentation v0.0.0"><meta data-rh="true" property="og:description" content="ai.matey API Documentation v0.0.0"><link data-rh="true" rel="icon" href="/ai.matey/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://johnhenry.github.io/ai.matey/api/generated/ai.matey.utils/src"><link data-rh="true" rel="alternate" href="https://johnhenry.github.io/ai.matey/api/generated/ai.matey.utils/src" hreflang="en"><link data-rh="true" rel="alternate" href="https://johnhenry.github.io/ai.matey/api/generated/ai.matey.utils/src" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Complete API Reference","item":"https://johnhenry.github.io/ai.matey/api/"},{"@type":"ListItem","position":2,"name":"README","item":"https://johnhenry.github.io/ai.matey/api/generated/ai.matey.utils/src/"}]}</script><link rel="stylesheet" href="/ai.matey/assets/css/styles.2a65be4a.css">
<script src="/ai.matey/assets/js/runtime~main.f55d8821.js" defer="defer"></script>
<script src="/ai.matey/assets/js/main.70d9f326.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ai.matey/"><div class="navbar__logo"><img src="/ai.matey/img/logo.png" alt="ai.matey Logo" class="themedComponent_DHUr themedComponent--light_DIHH"><img src="/ai.matey/img/logo.png" alt="ai.matey Logo" class="themedComponent_DHUr themedComponent--dark_Bv2M"></div><b class="navbar__title text--truncate">ai.matey</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ai.matey/">Docs</a><a class="navbar__item navbar__link" href="/ai.matey/examples">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ai.matey/api">API</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/johnhenry/ai.matey" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.npmjs.com/package/ai.matey" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">npm<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ systemToggleIcon_txm5"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ai.matey/"><span title="Introduction" class="linkLabel_PuAu">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link"><span title="Getting Started" class="categoryLinkLabel_Oe72">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/getting-started/installation"><span title="Installation" class="linkLabel_PuAu">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/getting-started/quick-start"><span title="Quick Start" class="linkLabel_PuAu">Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/getting-started/core-concepts"><span title="Core Concepts" class="linkLabel_PuAu">Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/getting-started/your-first-bridge"><span title="Your First Bridge - Step-by-Step Tutorial" class="linkLabel_PuAu">Your First Bridge - Step-by-Step Tutorial</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/ai.matey/tutorials"><span title="Tutorials" class="categoryLinkLabel_Oe72">Tutorials</span></a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/tutorials/beginner/simple-bridge"><span title="Beginner" class="categoryLinkLabel_Oe72">Beginner</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/ai.matey/guides/architecture/ir-format"><span title="Guides" class="categoryLinkLabel_Oe72">Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/guides/architecture/ir-format"><span title="Architecture" class="categoryLinkLabel_Oe72">Architecture</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/guides/testing"><span title="Testing" class="linkLabel_PuAu">Testing</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ai.matey/patterns"><span title="Integration Patterns" class="linkLabel_PuAu">Integration Patterns</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/ai.matey/api"><span title="API Reference" class="categoryLinkLabel_Oe72">API Reference</span></a><button aria-label="Collapse sidebar category &#x27;API Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/bridge"><span title="Bridge API" class="linkLabel_PuAu">Bridge API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/router"><span title="Router API" class="linkLabel_PuAu">Router API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/middleware"><span title="Middleware API" class="linkLabel_PuAu">Middleware API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/types"><span title="Types API" class="linkLabel_PuAu">Types API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/errors"><span title="Errors API" class="linkLabel_PuAu">Errors API</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--active" href="/ai.matey/api"><span title="Complete API Reference" class="categoryLinkLabel_Oe72">Complete API Reference</span></a><button aria-label="Collapse sidebar category &#x27;Complete API Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/generated"><span title="README" class="linkLabel_PuAu">README</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/ai.matey/src"><span title="ai.matey" class="categoryLinkLabel_Oe72">ai.matey</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" tabindex="0" href="/ai.matey/api/generated/ai.matey.backend"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Expand sidebar category &#x27;README&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/generated/ai.matey.backend.browser"><span title="ai.matey.backend.browser" class="linkLabel_PuAu">ai.matey.backend.browser</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/ai.matey.core/src"><span title="ai.matey.core" class="categoryLinkLabel_Oe72">ai.matey.core</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/ai.matey.errors/src"><span title="ai.matey.errors" class="categoryLinkLabel_Oe72">ai.matey.errors</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/generated/ai.matey.frontend"><span title="ai.matey.frontend" class="linkLabel_PuAu">ai.matey.frontend</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" tabindex="0" href="/ai.matey/api/generated/ai.matey.http"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Expand sidebar category &#x27;README&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" tabindex="0" href="/ai.matey/api/generated/ai.matey.middleware"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Expand sidebar category &#x27;README&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/ai.matey.testing/src"><span title="ai.matey.testing" class="categoryLinkLabel_Oe72">ai.matey.testing</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/ai.matey.types/src"><span title="ai.matey.types" class="categoryLinkLabel_Oe72">ai.matey.types</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/ai.matey/api/generated/ai.matey.utils/src"><span title="ai.matey.utils" class="categoryLinkLabel_Oe72">ai.matey.utils</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/ai.matey/api/generated/ai.matey.utils/src"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Collapse sidebar category &#x27;README&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/generated/ai.matey.utils/src/-internal-"><span title="-internal-" class="linkLabel_PuAu">-internal-</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" tabindex="0" href="/ai.matey/api/generated/ai.matey.wrapper"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Expand sidebar category &#x27;README&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" tabindex="0" href="/ai.matey/api/generated/cli"><span title="README" class="categoryLinkLabel_Oe72">README</span></a><button aria-label="Expand sidebar category &#x27;README&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/http.core/src"><span title="http.core" class="categoryLinkLabel_Oe72">http.core</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/native-apple/src"><span title="native-apple" class="categoryLinkLabel_Oe72">native-apple</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/native-model-runner/src"><span title="native-model-runner" class="categoryLinkLabel_Oe72">native-model-runner</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/native-node-llamacpp/src"><span title="native-node-llamacpp" class="categoryLinkLabel_Oe72">native-node-llamacpp</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/react-core/src"><span title="react-core" class="categoryLinkLabel_Oe72">react-core</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/react-hooks/src"><span title="react-hooks" class="categoryLinkLabel_Oe72">react-hooks</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/react-nextjs/src"><span title="react-nextjs" class="categoryLinkLabel_Oe72">react-nextjs</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/generated/react-stream/src"><span title="react-stream" class="categoryLinkLabel_Oe72">react-stream</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/ai.matey/packages/overview"><span title="Packages" class="categoryLinkLabel_Oe72">Packages</span></a><button aria-label="Collapse sidebar category &#x27;Packages&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai.matey/api/all-packages"><span title="All Packages Overview" class="linkLabel_PuAu">All Packages Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/ai.matey"><span title="Core" class="categoryLinkLabel_Oe72">Core</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/backend"><span title="Adapters" class="categoryLinkLabel_Oe72">Adapters</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/middleware"><span title="Middleware" class="categoryLinkLabel_Oe72">Middleware</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/http"><span title="HTTP" class="categoryLinkLabel_Oe72">HTTP</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/react-core"><span title="React" class="categoryLinkLabel_Oe72">React</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/native-apple"><span title="Native" class="categoryLinkLabel_Oe72">Native</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai.matey/api/packages/wrapper"><span title="Utilities" class="categoryLinkLabel_Oe72">Utilities</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_d9ci menu__link menu__link--sublist" href="/ai.matey/contributing"><span title="Contributing" class="categoryLinkLabel_Oe72">Contributing</span></a><button aria-label="Expand sidebar category &#x27;Contributing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ai.matey/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai.matey/api"><span>Complete API Reference</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ai.matey.utils</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">README</span></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>README</h1></header><p><a class="" href="/ai.matey/api/generated"><strong>ai.matey API Documentation v0.0.0</strong></a></p>
<hr>
<p><a class="" href="/ai.matey/api/generated">ai.matey API Documentation</a> / ai.matey.utils/src</p>
<h1>ai.matey.utils/src</h1>
<p>Utility Functions</p>
<p>Collection of utility functions for validation, normalization, and streaming.</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="trimhistory">trimHistory()<a href="#trimhistory" class="hash-link" aria-label="Direct link to trimHistory()" title="Direct link to trimHistory()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">trimHistory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   history</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   maxHistorySize</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">TrimStrategy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/conversation-history.ts#L45" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/conversation-history.ts:45</a></p>
<p>Trim conversation history to keep only the most recent messages.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>history</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><code>undefined</code></td><td>Current conversation history</td></tr><tr><td><code>maxHistorySize</code></td><td><code>number</code></td><td><code>undefined</code></td><td>Maximum number of message pairs to keep - 0: Return empty array (no history) - -1: Return full history (no trimming) - N &gt; 0: Keep last N user/assistant pairs</td></tr><tr><td><code>strategy</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#trimstrategy"><code>TrimStrategy</code></a></td><td><code>&#x27;fifo&#x27;</code></td><td>Trimming strategy - &#x27;fifo&#x27;: First-in-first-out, remove oldest messages - &#x27;smart&#x27;: Preserve system messages, trim user/assistant pairs</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns">Returns<a href="#returns" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</p>
<p>Trimmed history</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no"> ​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> history </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;system&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;You are helpful&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;user&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Hi&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;assistant&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Hello!&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;user&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;How are you?&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;assistant&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;I am well!&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Keep last 1 pair + system message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> trimmed </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">trimHistory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">history</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;smart&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Result: system message + last user/assistant pair</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="countmessagepairs">countMessagePairs()<a href="#countmessagepairs" class="hash-link" aria-label="Direct link to countMessagePairs()" title="Direct link to countMessagePairs()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">countMessagePairs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">history</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/conversation-history.ts#L131" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/conversation-history.ts:131</a></p>
<p>Count message pairs in history (excluding system messages)</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-1">Parameters<a href="#parameters-1" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>history</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td>Conversation history</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-1">Returns<a href="#returns-1" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Number of user/assistant pairs</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> history </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;system&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;You are helpful&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;user&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Hi&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;assistant&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Hello!&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">countMessagePairs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">history</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="shouldtrimhistory">shouldTrimHistory()<a href="#shouldtrimhistory" class="hash-link" aria-label="Direct link to shouldTrimHistory()" title="Direct link to shouldTrimHistory()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">shouldTrimHistory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   history</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   maxHistorySize</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">TrimStrategy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/conversation-history.ts#L144" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/conversation-history.ts:144</a></p>
<p>Check if history needs trimming</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-2">Parameters<a href="#parameters-2" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>history</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><code>undefined</code></td><td>Current history</td></tr><tr><td><code>maxHistorySize</code></td><td><code>number</code></td><td><code>undefined</code></td><td>Maximum pairs to keep</td></tr><tr><td><code>strategy</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#trimstrategy"><code>TrimStrategy</code></a></td><td><code>&#x27;fifo&#x27;</code></td><td>Trimming strategy</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-2">Returns<a href="#returns-2" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<p>True if history exceeds limit</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="getmodelcache">getModelCache()<a href="#getmodelcache" class="hash-link" aria-label="Direct link to getModelCache()" title="Direct link to getModelCache()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scope</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;global&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;instance&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L189" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:189</a></p>
<p>Create or get model cache based on scope strategy.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-3">Parameters<a href="#parameters-3" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>scope</code></td><td><code>&quot;global&quot;</code> | <code>&quot;instance&quot;</code></td><td><code>&#x27;global&#x27;</code></td><td>Cache scope strategy</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-3">Returns<a href="#returns-3" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#modelcache"><code>ModelCache</code></a></p>
<p>Model cache instance</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizetemperature">normalizeTemperature()<a href="#normalizetemperature" class="hash-link" aria-label="Direct link to normalizeTemperature()" title="Direct link to normalizeTemperature()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeTemperature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">temperature</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> targetRange</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-1&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-2&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L32" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:32</a></p>
<p>Normalize temperature to provider&#x27;s range.</p>
<p>IR uses 0-2 range (OpenAI convention).
Some providers use 0-1 range (Anthropic).</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-4">Parameters<a href="#parameters-4" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>temperature</code></td><td><code>number</code></td><td><code>undefined</code></td><td>Temperature value (0-2)</td></tr><tr><td><code>targetRange</code></td><td><code>&quot;0-1&quot;</code> | <code>&quot;0-2&quot;</code></td><td><code>&#x27;0-2&#x27;</code></td><td>Target range (&#x27;0-1&#x27; or &#x27;0-2&#x27;)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-4">Returns<a href="#returns-4" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Normalized temperature</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="denormalizetemperature">denormalizeTemperature()<a href="#denormalizetemperature" class="hash-link" aria-label="Direct link to denormalizeTemperature()" title="Direct link to denormalizeTemperature()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">denormalizeTemperature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">temperature</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sourceRange</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-1&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-2&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L58" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:58</a></p>
<p>Denormalize temperature from provider&#x27;s range back to IR.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-5">Parameters<a href="#parameters-5" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>temperature</code></td><td><code>number</code></td><td><code>undefined</code></td><td>Temperature value from provider</td></tr><tr><td><code>sourceRange</code></td><td><code>&quot;0-1&quot;</code> | <code>&quot;0-2&quot;</code></td><td><code>&#x27;0-2&#x27;</code></td><td>Source range (&#x27;0-1&#x27; or &#x27;0-2&#x27;)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-5">Returns<a href="#returns-5" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>IR temperature (0-2)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizetopp">normalizeTopP()<a href="#normalizetopp" class="hash-link" aria-label="Direct link to normalizeTopP()" title="Direct link to normalizeTopP()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeTopP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">topP</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L82" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:82</a></p>
<p>Normalize topP parameter.</p>
<p>Always 0-1 range across providers.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-6">Parameters<a href="#parameters-6" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>topP</code></td><td><code>number</code></td><td>TopP value</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-6">Returns<a href="#returns-6" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Clamped topP</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizetopk">normalizeTopK()<a href="#normalizetopk" class="hash-link" aria-label="Direct link to normalizeTopK()" title="Direct link to normalizeTopK()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeTopK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">topK</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> maxTopK</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L97" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:97</a></p>
<p>Normalize topK parameter.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-7">Parameters<a href="#parameters-7" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>topK</code></td><td><code>number</code></td><td><code>undefined</code></td><td>TopK value</td></tr><tr><td><code>maxTopK</code></td><td><code>number</code></td><td><code>100</code></td><td>Maximum topK supported by provider</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-7">Returns<a href="#returns-7" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Clamped topK</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizepenalty">normalizePenalty()<a href="#normalizepenalty" class="hash-link" aria-label="Direct link to normalizePenalty()" title="Direct link to normalizePenalty()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizePenalty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">penalty</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> targetRange</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L115" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:115</a></p>
<p>Normalize penalty parameters (frequency, presence).</p>
<p>IR uses -2 to 2 range (OpenAI convention).
Some providers might use different ranges.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-8">Parameters<a href="#parameters-8" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>penalty</code></td><td><code>number</code></td><td>Penalty value</td></tr><tr><td><code>targetRange</code></td><td>{ <code>min</code>: <code>number</code>; <code>max</code>: <code>number</code>; }</td><td>Target range</td></tr><tr><td><code>targetRange.min</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>targetRange.max</code></td><td><code>number</code></td><td>-</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-8">Returns<a href="#returns-8" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Normalized penalty</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizestopsequences">normalizeStopSequences()<a href="#normalizestopsequences" class="hash-link" aria-label="Direct link to normalizeStopSequences()" title="Direct link to normalizeStopSequences()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeStopSequences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stopSequences</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> maxStopSequences</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L139" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:139</a></p>
<p>Normalize stop sequences.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-9">Parameters<a href="#parameters-9" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stopSequences</code></td><td>readonly <code>string</code>[]</td><td>Stop sequences array</td></tr><tr><td><code>maxStopSequences?</code></td><td><code>number</code></td><td>Maximum number of stop sequences supported</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-9">Returns<a href="#returns-9" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code>[]</p>
<p>Normalized stop sequences</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="filterunsupportedparameters">filterUnsupportedParameters()<a href="#filterunsupportedparameters" class="hash-link" aria-label="Direct link to filterUnsupportedParameters()" title="Direct link to filterUnsupportedParameters()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterUnsupportedParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> capabilities</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRCapabilities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L171" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:171</a></p>
<p>Filter parameters based on provider capabilities.</p>
<p>Removes parameters that the provider doesn&#x27;t support.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-10">Parameters<a href="#parameters-10" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></td><td>IR parameters</td></tr><tr><td><code>capabilities</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#ircapabilities"><code>IRCapabilities</code></a></td><td>Provider capabilities</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-10">Returns<a href="#returns-10" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></p>
<p>Filtered parameters</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="applyparameterdefaults">applyParameterDefaults()<a href="#applyparameterdefaults" class="hash-link" aria-label="Direct link to applyParameterDefaults()" title="Direct link to applyParameterDefaults()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">applyParameterDefaults</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> defaults</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">IRParameters</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L240" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:240</a></p>
<p>Apply parameter defaults.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-11">Parameters<a href="#parameters-11" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></td><td>IR parameters</td></tr><tr><td><code>defaults</code></td><td><code>Partial</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a>&gt;</td><td>Default values</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-11">Returns<a href="#returns-11" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></p>
<p>Parameters with defaults applied</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="mergeparameters">mergeParameters()<a href="#mergeparameters" class="hash-link" aria-label="Direct link to mergeParameters()" title="Direct link to mergeParameters()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">mergeParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">parameterSets</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L258" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:258</a></p>
<p>Merge parameter objects.</p>
<p>Later parameters override earlier ones.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-12">Parameters<a href="#parameters-12" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>...<code>parameterSets</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a>[]</td><td>Parameter objects to merge</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-12">Returns<a href="#returns-12" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></p>
<p>Merged parameters</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="clampparameter">clampParameter()<a href="#clampparameter" class="hash-link" aria-label="Direct link to clampParameter()" title="Direct link to clampParameter()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">clampParameter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   min</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   max</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L284" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:284</a></p>
<p>Clamp parameter to valid range.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-13">Parameters<a href="#parameters-13" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>value</code></td><td><code>number</code></td><td>Parameter value</td></tr><tr><td><code>min</code></td><td><code>number</code></td><td>Minimum value</td></tr><tr><td><code>max</code></td><td><code>number</code></td><td>Maximum value</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-13">Returns<a href="#returns-13" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Clamped value</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="sanitizeparameters">sanitizeParameters()<a href="#sanitizeparameters" class="hash-link" aria-label="Direct link to sanitizeParameters()" title="Direct link to sanitizeParameters()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sanitizeParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L302" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:302</a></p>
<p>Sanitize parameters by clamping to valid ranges.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-14">Parameters<a href="#parameters-14" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></td><td>IR parameters</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-14">Returns<a href="#returns-14" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></p>
<p>Sanitized parameters</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="areparametersvalid">areParametersValid()<a href="#areparametersvalid" class="hash-link" aria-label="Direct link to areParametersValid()" title="Direct link to areParametersValid()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">areParametersValid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L340" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:340</a></p>
<p>Check if parameters are within valid ranges.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-15">Parameters<a href="#parameters-15" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></td><td>IR parameters</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-15">Returns<a href="#returns-15" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<p>true if all parameters are valid</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizetemperaturewithwarnings">normalizeTemperatureWithWarnings()<a href="#normalizetemperaturewithwarnings" class="hash-link" aria-label="Direct link to normalizeTemperatureWithWarnings()" title="Direct link to normalizeTemperatureWithWarnings()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeTemperatureWithWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   temperature</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   targetRange</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-1&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0-2&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">NormalizationResult</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L411" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:411</a></p>
<p>Normalize temperature with warning generation.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-16">Parameters<a href="#parameters-16" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>temperature</code></td><td><code>number</code></td><td><code>undefined</code></td><td>Temperature value (0-2)</td></tr><tr><td><code>targetRange</code></td><td><code>&quot;0-1&quot;</code> | <code>&quot;0-2&quot;</code></td><td><code>&#x27;0-2&#x27;</code></td><td>Target range (&#x27;0-1&#x27; or &#x27;0-2&#x27;)</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td><code>undefined</code></td><td>Source adapter name</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-16">Returns<a href="#returns-16" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#normalizationresult"><code>NormalizationResult</code></a>&lt;<code>number</code>&gt;</p>
<p>Normalized temperature and warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizestopsequenceswithwarnings">normalizeStopSequencesWithWarnings()<a href="#normalizestopsequenceswithwarnings" class="hash-link" aria-label="Direct link to normalizeStopSequencesWithWarnings()" title="Direct link to normalizeStopSequencesWithWarnings()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeStopSequencesWithWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   stopSequences</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   maxStopSequences</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">NormalizationResult</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L458" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:458</a></p>
<p>Normalize stop sequences with warning generation.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-17">Parameters<a href="#parameters-17" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stopSequences</code></td><td>readonly <code>string</code>[]</td><td>Stop sequences array</td></tr><tr><td><code>maxStopSequences</code></td><td><code>number</code></td><td>Maximum number supported</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter name</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-17">Returns<a href="#returns-17" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#normalizationresult"><code>NormalizationResult</code></a>&lt;<code>string</code>[]&gt;</p>
<p>Normalized stop sequences and warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="filterunsupportedparameterswithwarnings">filterUnsupportedParametersWithWarnings()<a href="#filterunsupportedparameterswithwarnings" class="hash-link" aria-label="Direct link to filterUnsupportedParametersWithWarnings()" title="Direct link to filterUnsupportedParametersWithWarnings()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterUnsupportedParametersWithWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   capabilities</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRCapabilities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">NormalizationResult</span><span class="token operator">&lt;</span><span class="token maybe-class-name">IRParameters</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L489" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:489</a></p>
<p>Filter parameters with warning generation.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-18">Parameters<a href="#parameters-18" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a></td><td>IR parameters</td></tr><tr><td><code>capabilities</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#ircapabilities"><code>IRCapabilities</code></a></td><td>Provider capabilities</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter name</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-18">Returns<a href="#returns-18" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#normalizationresult"><code>NormalizationResult</code></a>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irparameters"><code>IRParameters</code></a>&gt;</p>
<p>Filtered parameters and warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createaccumulatorstate">createAccumulatorState()<a href="#createaccumulatorstate" class="hash-link" aria-label="Direct link to createAccumulatorState()" title="Direct link to createAccumulatorState()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createAccumulatorState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulatorState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L51" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:51</a></p>
<p>Create a new stream accumulator state.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-19">Returns<a href="#returns-19" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulatorstate"><code>StreamAccumulatorState</code></a></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="detectchunkmode">detectChunkMode()<a href="#detectchunkmode" class="hash-link" aria-label="Direct link to detectChunkMode()" title="Direct link to detectChunkMode()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">detectChunkMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L69" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:69</a></p>
<p>Detect the streaming mode of a content chunk.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-19">Parameters<a href="#parameters-19" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamcontentchunk"><code>StreamContentChunk</code></a></td><td>Content chunk to inspect</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-20">Returns<a href="#returns-20" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></p>
<p>Detected streaming mode</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="needsconversion">needsConversion()<a href="#needsconversion" class="hash-link" aria-label="Direct link to needsConversion()" title="Direct link to needsConversion()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">needsConversion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   targetMode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   preserveIfMatch</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L92" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:92</a></p>
<p>Check if a chunk needs conversion to target mode.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-20">Parameters<a href="#parameters-20" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamcontentchunk"><code>StreamContentChunk</code></a></td><td><code>undefined</code></td><td>Content chunk to check</td></tr><tr><td><code>targetMode</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></td><td><code>undefined</code></td><td>Desired streaming mode</td></tr><tr><td><code>preserveIfMatch</code></td><td><code>boolean</code></td><td><code>true</code></td><td>Whether to skip conversion if already in target mode</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-21">Returns<a href="#returns-21" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<p>true if conversion is needed</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="convertstreammode">convertStreamMode()<a href="#convertstreammode" class="hash-link" aria-label="Direct link to convertStreamMode()" title="Direct link to convertStreamMode()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertStreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamConversionOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L145" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:145</a></p>
<p>Convert IR stream to target streaming mode.</p>
<p>This function transforms an IR stream to use the specified streaming mode:</p>
<ul>
<li class="">Delta mode: Only incremental deltas</li>
<li class="">Accumulated mode: Full text in each chunk</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-21">Parameters<a href="#parameters-21" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Source IR stream</td></tr><tr><td><code>options</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamconversionoptions"><code>StreamConversionOptions</code></a></td><td>Conversion options</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-22">Returns<a href="#returns-22" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Converted IR stream</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-2">Example<a href="#example-2" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Convert to accumulated mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> accumulated </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertStreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">deltaStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> mode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;accumulated&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Convert to delta mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> delta </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertStreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">accumulatedStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> mode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;delta&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="convertchunkmode">convertChunkMode()<a href="#convertchunkmode" class="hash-link" aria-label="Direct link to convertChunkMode()" title="Direct link to convertChunkMode()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertChunkMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   targetMode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   state</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulatorState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   transform</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L198" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:198</a></p>
<p>Convert a single content chunk to target mode.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-22">Parameters<a href="#parameters-22" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamcontentchunk"><code>StreamContentChunk</code></a></td><td>Source content chunk</td></tr><tr><td><code>targetMode</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></td><td>Target streaming mode</td></tr><tr><td><code>state</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulatorstate"><code>StreamAccumulatorState</code></a></td><td>Accumulator state (updated in place)</td></tr><tr><td><code>transform?</code></td><td>(<code>text</code>: <code>string</code>) =&gt; <code>string</code></td><td>Optional transform function</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-23">Returns<a href="#returns-23" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamcontentchunk"><code>StreamContentChunk</code></a></p>
<p>Converted content chunk</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="geteffectivestreammode">getEffectiveStreamMode()<a href="#geteffectivestreammode" class="hash-link" aria-label="Direct link to getEffectiveStreamMode()" title="Direct link to getEffectiveStreamMode()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getEffectiveStreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   requestMode</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   conversionMode</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   config</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamingConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L247" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:247</a></p>
<p>Get effective streaming mode from cascading configuration.</p>
<p>Priority order (highest to lowest):</p>
<ol>
<li class="">Request-level streamMode</li>
<li class="">Conversion options mode</li>
<li class="">Streaming config mode</li>
<li class="">Default (&#x27;delta&#x27;)</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-23">Parameters<a href="#parameters-23" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>requestMode?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></td><td>Stream mode from request</td></tr><tr><td><code>conversionMode?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></td><td>Stream mode from conversion options</td></tr><tr><td><code>config?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.backend/-internal-#streamingconfig"><code>StreamingConfig</code></a></td><td>Streaming configuration</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-24">Returns<a href="#returns-24" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></p>
<p>Effective streaming mode</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="mergestreamingconfig">mergeStreamingConfig()<a href="#mergestreamingconfig" class="hash-link" aria-label="Direct link to mergeStreamingConfig()" title="Direct link to mergeStreamingConfig()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">mergeStreamingConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">configs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamingConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Required</span><span class="token operator">&lt;</span><span class="token maybe-class-name">StreamingConfig</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L261" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:261</a></p>
<p>Merge streaming configurations with priority.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-24">Parameters<a href="#parameters-24" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>...<code>configs</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.backend/-internal-#streamingconfig"><code>StreamingConfig</code></a>[]</td><td>Configuration objects in priority order (first wins)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-25">Returns<a href="#returns-25" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Required</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.backend/-internal-#streamingconfig"><code>StreamingConfig</code></a>&gt;</p>
<p>Merged configuration</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="ensurestreammode">ensureStreamMode()<a href="#ensurestreammode" class="hash-link" aria-label="Direct link to ensureStreamMode()" title="Direct link to ensureStreamMode()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ensureStreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L300" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:300</a></p>
<p>Ensure all chunks in a stream have a specific mode.</p>
<p>If chunks don&#x27;t have the required format, converts them.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-25">Parameters<a href="#parameters-25" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Source stream</td></tr><tr><td><code>mode</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streammode-1"><code>StreamMode</code></a></td><td>Required mode</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-26">Returns<a href="#returns-26" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Stream with all chunks in required mode</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="addaccumulatedtostream">addAccumulatedToStream()<a href="#addaccumulatedtostream" class="hash-link" aria-label="Direct link to addAccumulatedToStream()" title="Direct link to addAccumulatedToStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addAccumulatedToStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L312" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:312</a></p>
<p>Add accumulated field to all content chunks (dual-mode streaming).</p>
<p>Useful for backends that want to provide both delta and accumulated.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-26">Parameters<a href="#parameters-26" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Source stream (delta-only)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-27">Returns<a href="#returns-27" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Stream with both delta and accumulated in content chunks</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="stripaccumulatedfromstream">stripAccumulatedFromStream()<a href="#stripaccumulatedfromstream" class="hash-link" aria-label="Direct link to stripAccumulatedFromStream()" title="Direct link to stripAccumulatedFromStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">stripAccumulatedFromStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L337" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:337</a></p>
<p>Strip accumulated field from all content chunks (delta-only streaming).</p>
<p>Useful for reducing bandwidth when accumulated isn&#x27;t needed.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-27">Parameters<a href="#parameters-27" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Source stream</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-28">Returns<a href="#returns-28" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Stream with only delta in content chunks</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createstreamaccumulator">createStreamAccumulator()<a href="#createstreamaccumulator" class="hash-link" aria-label="Direct link to createStreamAccumulator()" title="Direct link to createStreamAccumulator()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createStreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L55" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:55</a></p>
<p>Create a new stream accumulator.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-29">Returns<a href="#returns-29" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulator"><code>StreamAccumulator</code></a></p>
<p>Empty accumulator</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="accumulatechunk">accumulateChunk()<a href="#accumulatechunk" class="hash-link" aria-label="Direct link to accumulateChunk()" title="Direct link to accumulateChunk()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">accumulateChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">accumulator</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L70" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:70</a></p>
<p>Accumulate a stream chunk.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-28">Parameters<a href="#parameters-28" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>accumulator</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulator"><code>StreamAccumulator</code></a></td><td>Current accumulator state</td></tr><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td><td>Stream chunk to accumulate</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-30">Returns<a href="#returns-30" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulator"><code>StreamAccumulator</code></a></p>
<p>Updated accumulator</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="accumulatortomessage">accumulatorToMessage()<a href="#accumulatortomessage" class="hash-link" aria-label="Direct link to accumulatorToMessage()" title="Direct link to accumulatorToMessage()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">accumulatorToMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">accumulator</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L102" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:102</a></p>
<p>Convert accumulated state to IR message.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-29">Parameters<a href="#parameters-29" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>accumulator</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulator"><code>StreamAccumulator</code></a></td><td>Stream accumulator</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-31">Returns<a href="#returns-31" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a></p>
<p>IR message</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="accumulatortoresponse">accumulatorToResponse()<a href="#accumulatortoresponse" class="hash-link" aria-label="Direct link to accumulatorToResponse()" title="Direct link to accumulatorToResponse()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">accumulatorToResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   accumulator</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamAccumulator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   doneChunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamDoneChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   requestMetadata</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMetadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L117" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:117</a></p>
<p>Convert accumulated state and done chunk to IR response.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-30">Parameters<a href="#parameters-30" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>accumulator</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamaccumulator"><code>StreamAccumulator</code></a></td><td>Stream accumulator</td></tr><tr><td><code>doneChunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamdonechunk"><code>StreamDoneChunk</code></a></td><td>Done chunk with finish reason and usage</td></tr><tr><td><code>requestMetadata</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmetadata"><code>IRMetadata</code></a></td><td>Original request metadata</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-32">Returns<a href="#returns-32" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatresponse"><code>IRChatResponse</code></a></p>
<p>IR chat response</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="transformstream">transformStream()<a href="#transformstream" class="hash-link" aria-label="Direct link to transformStream()" title="Direct link to transformStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">transformStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">transformer</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L144" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:144</a></p>
<p>Transform stream chunks.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-31">Parameters<a href="#parameters-31" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>transformer</code></td><td>(<code>chunk</code>: <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>) =&gt; <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td><td>Transform function</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-33">Returns<a href="#returns-33" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Transformed stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="filterstream">filterStream()<a href="#filterstream" class="hash-link" aria-label="Direct link to filterStream()" title="Direct link to filterStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">predicate</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L163" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:163</a></p>
<p>Filter stream chunks.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-32">Parameters<a href="#parameters-32" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>predicate</code></td><td>(<code>chunk</code>: <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>) =&gt; <code>boolean</code></td><td>Filter predicate</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-34">Returns<a href="#returns-34" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Filtered stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="mapstream">mapStream()<a href="#mapstream" class="hash-link" aria-label="Direct link to mapStream()" title="Direct link to mapStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">mapStream</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">mapper</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L181" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:181</a></p>
<p>Map stream chunks.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters">Type Parameters<a href="#type-parameters" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-33">Parameters<a href="#parameters-33" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>mapper</code></td><td>(<code>chunk</code>: <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>) =&gt; <code>T</code></td><td>Mapping function</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-35">Returns<a href="#returns-35" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>AsyncGenerator</code>&lt;<code>T</code>, <code>void</code>, <code>undefined</code>&gt;</p>
<p>Mapped stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="tapstream">tapStream()<a href="#tapstream" class="hash-link" aria-label="Direct link to tapStream()" title="Direct link to tapStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">tapStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">callback</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L197" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:197</a></p>
<p>Tap into stream without modifying it.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-34">Parameters<a href="#parameters-34" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>callback</code></td><td>(<code>chunk</code>: <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>) =&gt; <code>void</code> | <code>Promise</code>&lt;<code>void</code>&gt;</td><td>Function to call for each chunk</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-36">Returns<a href="#returns-36" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Same stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="collectstream">collectStream()<a href="#collectstream" class="hash-link" aria-label="Direct link to collectStream()" title="Direct link to collectStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">collectStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L217" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:217</a></p>
<p>Collect all chunks from a stream.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-35">Parameters<a href="#parameters-35" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Stream to collect</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-37">Returns<a href="#returns-37" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>[]&gt;</p>
<p>Array of all chunks</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamtoresponse">streamToResponse()<a href="#streamtoresponse" class="hash-link" aria-label="Direct link to streamToResponse()" title="Direct link to streamToResponse()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> requestMetadata</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMetadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">IRChatResponse</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L232" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:232</a></p>
<p>Collect stream into a complete response.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-36">Parameters<a href="#parameters-36" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Stream to collect</td></tr><tr><td><code>requestMetadata</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmetadata"><code>IRMetadata</code></a></td><td>Original request metadata</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-38">Returns<a href="#returns-38" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatresponse"><code>IRChatResponse</code></a>&gt;</p>
<p>Complete IR response</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamtotext">streamToText()<a href="#streamtotext" class="hash-link" aria-label="Direct link to streamToText()" title="Direct link to streamToText()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToText</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L265" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:265</a></p>
<p>Collect just the content text from a stream.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-37">Parameters<a href="#parameters-37" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Stream to collect</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-39">Returns<a href="#returns-39" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<code>string</code>&gt;</p>
<p>Complete text content</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="splitstream">splitStream()<a href="#splitstream" class="hash-link" aria-label="Direct link to splitStream()" title="Direct link to splitStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">splitStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> consumerCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L286" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:286</a></p>
<p>Split a stream into multiple consumers.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-38">Parameters<a href="#parameters-38" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>consumerCount</code></td><td><code>number</code></td><td>Number of consumers</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-40">Returns<a href="#returns-40" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a>[]</p>
<p>Array of streams, one per consumer</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="catchstreamerrors">catchStreamErrors()<a href="#catchstreamerrors" class="hash-link" aria-label="Direct link to catchStreamErrors()" title="Direct link to catchStreamErrors()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">catchStreamErrors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">onError</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L360" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:360</a></p>
<p>Wrap stream with error handling.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-39">Parameters<a href="#parameters-39" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>onError</code></td><td>(<code>error</code>: <code>Error</code>) =&gt; <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td><td>Error handler</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-41">Returns<a href="#returns-41" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Wrapped stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamwithtimeout">streamWithTimeout()<a href="#streamwithtimeout" class="hash-link" aria-label="Direct link to streamWithTimeout()" title="Direct link to streamWithTimeout()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamWithTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   timeoutMs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">onTimeout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L384" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:384</a></p>
<p>Add timeout to stream.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-40">Parameters<a href="#parameters-40" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>timeoutMs</code></td><td><code>number</code></td><td>Timeout in milliseconds</td></tr><tr><td><code>onTimeout</code></td><td>() =&gt; <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td><td>Callback when timeout occurs</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-42">Returns<a href="#returns-42" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Stream with timeout</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="iscontentchunk">isContentChunk()<a href="#iscontentchunk" class="hash-link" aria-label="Direct link to isContentChunk()" title="Direct link to isContentChunk()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> chunk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">StreamContentChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L426" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:426</a></p>
<p>Check if a chunk is a content chunk.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-41">Parameters<a href="#parameters-41" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-43">Returns<a href="#returns-43" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>chunk is StreamContentChunk</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="isdonechunk">isDoneChunk()<a href="#isdonechunk" class="hash-link" aria-label="Direct link to isDoneChunk()" title="Direct link to isDoneChunk()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isDoneChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> chunk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">StreamDoneChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L433" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:433</a></p>
<p>Check if a chunk is a done chunk.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-42">Parameters<a href="#parameters-42" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-44">Returns<a href="#returns-44" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>chunk is StreamDoneChunk</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="iserrorchunk">isErrorChunk()<a href="#iserrorchunk" class="hash-link" aria-label="Direct link to isErrorChunk()" title="Direct link to isErrorChunk()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isErrorChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> chunk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">StreamErrorChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L440" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:440</a></p>
<p>Check if a chunk is an error chunk.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-43">Parameters<a href="#parameters-43" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>chunk</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-45">Returns<a href="#returns-45" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>chunk is StreamErrorChunk</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="getcontentdeltas">getContentDeltas()<a href="#getcontentdeltas" class="hash-link" aria-label="Direct link to getContentDeltas()" title="Direct link to getContentDeltas()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getContentDeltas</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L450" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:450</a></p>
<p>Get content deltas from stream.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-44">Parameters<a href="#parameters-44" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Stream to process</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-46">Returns<a href="#returns-46" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>AsyncGenerator</code>&lt;<code>string</code>, <code>void</code>, <code>undefined</code>&gt;</p>
<p>Stream of just content deltas</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamtotextiterator">streamToTextIterator()<a href="#streamtotextiterator" class="hash-link" aria-label="Direct link to streamToTextIterator()" title="Direct link to streamToTextIterator()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToTextIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L471" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:471</a></p>
<p>Convert an IR stream to a simple text iterator.
Yields content deltas as strings and throws on errors.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-45">Parameters<a href="#parameters-45" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-47">Returns<a href="#returns-47" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>AsyncGenerator</code>&lt;<code>string</code>, <code>void</code>, <code>undefined</code>&gt;</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-3">Example<a href="#example-3" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> text </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToTextIterator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stdout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatechunksequence">validateChunkSequence()<a href="#validatechunksequence" class="hash-link" aria-label="Direct link to validateChunkSequence()" title="Direct link to validateChunkSequence()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateChunkSequence</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRStreamChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">SequenceValidationResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L503" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:503</a></p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-46">Parameters<a href="#parameters-46" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>chunks</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>[]</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-48">Returns<a href="#returns-48" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#sequencevalidationresult"><code>SequenceValidationResult</code></a></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatestream">validateStream()<a href="#validatestream" class="hash-link" aria-label="Direct link to validateStream()" title="Direct link to validateStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamValidationOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L584" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:584</a></p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-47">Parameters<a href="#parameters-47" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td></tr><tr><td><code>options</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamvalidationoptions"><code>StreamValidationOptions</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-49">Returns<a href="#returns-49" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="assemblestreamchunks">assembleStreamChunks()<a href="#assemblestreamchunks" class="hash-link" aria-label="Direct link to assembleStreamChunks()" title="Direct link to assembleStreamChunks()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">assembleStreamChunks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L645" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:645</a></p>
<p>Assemble stream chunks into a complete message.</p>
<p>Alternative to streamToResponse that returns just the assembled message.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-48">Parameters<a href="#parameters-48" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Stream to assemble</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-50">Returns<a href="#returns-50" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<code>string</code>&gt;</p>
<p>Assembled message text</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createstreamerror">createStreamError()<a href="#createstreamerror" class="hash-link" aria-label="Direct link to createStreamError()" title="Direct link to createStreamError()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createStreamError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   code</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   sequence</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   details</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamErrorChunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L660" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:660</a></p>
<p>Create an error chunk.</p>
<p>Helper for creating properly formatted error chunks.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-49">Parameters<a href="#parameters-49" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>code</code></td><td><code>string</code></td><td>Error code</td></tr><tr><td><code>message</code></td><td><code>string</code></td><td>Error message</td></tr><tr><td><code>sequence</code></td><td><code>number</code></td><td>Sequence number</td></tr><tr><td><code>details?</code></td><td><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td>Optional error details</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-51">Returns<a href="#returns-51" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#streamerrorchunk"><code>StreamErrorChunk</code></a></p>
<p>Error chunk</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamwithbackpressure">streamWithBackpressure()<a href="#streamwithbackpressure" class="hash-link" aria-label="Direct link to streamWithBackpressure()" title="Direct link to streamWithBackpressure()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamWithBackpressure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bufferSize</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L690" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:690</a></p>
<p>Add backpressure control to stream.</p>
<p>Buffers chunks and allows consumer to control flow.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-50">Parameters<a href="#parameters-50" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td><code>undefined</code></td><td>Original stream</td></tr><tr><td><code>bufferSize</code></td><td><code>number</code></td><td><code>10</code></td><td>Maximum buffer size before pausing</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-52">Returns<a href="#returns-52" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Stream with backpressure control</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="ratelimitstream">rateLimitStream()<a href="#ratelimitstream" class="hash-link" aria-label="Direct link to rateLimitStream()" title="Direct link to rateLimitStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">rateLimitStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> chunksPerSecond</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L742" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:742</a></p>
<p>Rate limit stream chunks.</p>
<p>Ensures chunks are yielded at a maximum rate.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-51">Parameters<a href="#parameters-51" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>Original stream</td></tr><tr><td><code>chunksPerSecond</code></td><td><code>number</code></td><td>Maximum chunks per second</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-53">Returns<a href="#returns-53" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<p>Rate-limited stream</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="collectstreamfull">collectStreamFull()<a href="#collectstreamfull" class="hash-link" aria-label="Direct link to collectStreamFull()" title="Direct link to collectStreamFull()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">collectStreamFull</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">CollectedStream</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L813" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:813</a></p>
<p>Collect a stream into a rich result with content, message, and metadata.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-52">Parameters<a href="#parameters-52" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-54">Returns<a href="#returns-54" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.utils/src#collectedstream"><code>CollectedStream</code></a>&gt;</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-4">Example<a href="#example-4" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> stream </span><span class="token operator">=</span><span class="token plain"> backend</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">executeStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">collectStreamFull</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Tokens:&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">usage</span><span class="token operator">?.</span><span class="token plain">totalTokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="processstream">processStream()<a href="#processstream" class="hash-link" aria-label="Direct link to processStream()" title="Direct link to processStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">processStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ProcessStreamOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">CollectedStream</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L890" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:890</a></p>
<p>Process a stream with callbacks while also returning the collected result.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-53">Parameters<a href="#parameters-53" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td></tr><tr><td><code>options</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#processstreamoptions"><code>ProcessStreamOptions</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-55">Returns<a href="#returns-55" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Promise</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.utils/src#collectedstream"><code>CollectedStream</code></a>&gt;</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-5">Example<a href="#example-5" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">processStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">onContent</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stdout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">onDone</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;\nDone!&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamtolines">streamToLines()<a href="#streamtolines" class="hash-link" aria-label="Direct link to streamToLines()" title="Direct link to streamToLines()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToLines</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L959" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:959</a></p>
<p>Convert an IR stream to a line-by-line iterator.
Buffers content and yields complete lines.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-54">Parameters<a href="#parameters-54" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-56">Returns<a href="#returns-56" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>AsyncGenerator</code>&lt;<code>string</code>, <code>void</code>, <code>undefined</code>&gt;</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-6">Example<a href="#example-6" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> line </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">streamToLines</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Line:&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> line</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="throttlestream">throttleStream()<a href="#throttlestream" class="hash-link" aria-label="Direct link to throttleStream()" title="Direct link to throttleStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">throttleStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> intervalMs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L1002" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:1002</a></p>
<p>Create a throttled version of a stream that limits how often chunks are yielded.
Batches content chunks that arrive faster than the interval.
Unlike rateLimitStream, this merges content chunks rather than delaying them.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-55">Parameters<a href="#parameters-55" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td>The source stream</td></tr><tr><td><code>intervalMs</code></td><td><code>number</code></td><td>Minimum milliseconds between yields</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-57">Returns<a href="#returns-57" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-7">Example<a href="#example-7" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Update UI at most every 50ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> chunk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">throttleStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">updateUI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="teestream">teeStream()<a href="#teestream" class="hash-link" aria-label="Direct link to teeStream()" title="Direct link to teeStream()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">teeStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> count</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L1076" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:1076</a></p>
<p>Split a stream into multiple streams that can be consumed independently.
Each returned stream receives all chunks from the source.
Alias for splitStream with a simpler interface.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-56">Parameters<a href="#parameters-56" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>stream</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a></td><td><code>undefined</code></td><td>The source stream</td></tr><tr><td><code>count</code></td><td><code>number</code></td><td><code>2</code></td><td>Number of streams to create</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-58">Returns<a href="#returns-58" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irchatstream"><code>IRChatStream</code></a>[]</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="example-8">Example<a href="#example-8" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">stream1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> stream2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">teeStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">originalStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Consume independently</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">result1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> result2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">all</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">collectStreamFull</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">processStream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">stream2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> onContent</span><span class="token operator">:</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">log</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="schematotooldefinition">schemaToToolDefinition()<a href="#schematotooldefinition" class="hash-link" aria-label="Direct link to schemaToToolDefinition()" title="Direct link to schemaToToolDefinition()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">schemaToToolDefinition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   schema</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ToolDefinition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L119" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:119</a></p>
<p>Convert a Zod schema to an OpenAI tool definition</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-57">Parameters<a href="#parameters-57" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>schema</code></td><td><code>any</code></td><td><code>undefined</code></td><td>Zod schema to convert</td></tr><tr><td><code>name</code></td><td><code>string</code></td><td><code>&#x27;extract_data&#x27;</code></td><td>Function name for the tool</td></tr><tr><td><code>description</code></td><td><code>string</code></td><td><code>&#x27;Extract structured data from the input&#x27;</code></td><td>Description of what the tool does</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-59">Returns<a href="#returns-59" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#tooldefinition"><code>ToolDefinition</code></a></p>
<p>OpenAI-compatible tool definition</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatewithschema">validateWithSchema()<a href="#validatewithschema" class="hash-link" aria-label="Direct link to validateWithSchema()" title="Direct link to validateWithSchema()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(80, 250, 123)">validateWithSchema</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> schema</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ValidationResult</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L277" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:277</a></p>
<p>Validate data against a Zod schema</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-1">Type Parameters<a href="#type-parameters-1" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>T</code></td><td><code>any</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-58">Parameters<a href="#parameters-58" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>unknown</code></td><td>Data to validate</td></tr><tr><td><code>schema</code></td><td><code>any</code></td><td>Zod schema to validate against</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-60">Returns<a href="#returns-60" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#validationresult"><code>ValidationResult</code></a>&lt;<code>T</code>&gt;</p>
<p>Validation result with typed data or errors</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="detectpii">detectPII()<a href="#detectpii" class="hash-link" aria-label="Direct link to detectPII()" title="Direct link to detectPII()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">detectPII</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> patterns</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">PIIPattern</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">PIIDetectionResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L340" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:340</a></p>
<p>Detect PII in text</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-59">Parameters<a href="#parameters-59" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td><code>undefined</code></td></tr><tr><td><code>patterns</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#piipattern"><code>PIIPattern</code></a>[]</td><td><code>DEFAULT_PII_PATTERNS</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-61">Returns<a href="#returns-61" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#piidetectionresult"><code>PIIDetectionResult</code></a></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="redactpii">redactPII()<a href="#redactpii" class="hash-link" aria-label="Direct link to redactPII()" title="Direct link to redactPII()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">redactPII</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> patterns</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">PIIPattern</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L369" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:369</a></p>
<p>Redact PII from text</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-60">Parameters<a href="#parameters-60" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td><code>undefined</code></td></tr><tr><td><code>patterns</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#piipattern"><code>PIIPattern</code></a>[]</td><td><code>DEFAULT_PII_PATTERNS</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-62">Returns<a href="#returns-62" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="detectpromptinjection">detectPromptInjection()<a href="#detectpromptinjection" class="hash-link" aria-label="Direct link to detectPromptInjection()" title="Direct link to detectPromptInjection()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">detectPromptInjection</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> patterns</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L382" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:382</a></p>
<p>Detect prompt injection attempts</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-61">Parameters<a href="#parameters-61" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td><code>undefined</code></td></tr><tr><td><code>patterns</code></td><td><code>RegExp</code>[]</td><td><code>DEFAULT_INJECTION_PATTERNS</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-63">Returns<a href="#returns-63" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="sanitizetext">sanitizeText()<a href="#sanitizetext" class="hash-link" aria-label="Direct link to sanitizeText()" title="Direct link to sanitizeText()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sanitizeText</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L392" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:392</a></p>
<p>Sanitize text by removing control characters</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-62">Parameters<a href="#parameters-62" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-64">Returns<a href="#returns-64" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="creategenerateobject">createGenerateObject()<a href="#creategenerateobject" class="hash-link" aria-label="Direct link to createGenerateObject()" title="Direct link to createGenerateObject()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createGenerateObject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">bridge</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">GenerateObjectOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">GenerateObjectResult</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L446" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:446</a></p>
<p>Create a generateObject function bound to a Bridge instance</p>
<p>This is a factory function that creates a generateObject implementation
that uses the provided Bridge for making LLM calls.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-63">Parameters<a href="#parameters-63" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>bridge</code></td><td><code>any</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-65">Returns<a href="#returns-65" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">GenerateObjectOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">GenerateObjectResult</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-2">Type Parameters<a href="#type-parameters-2" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h5>
<table><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>T</code></td><td><code>any</code></td></tr></tbody></table>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-64">Parameters<a href="#parameters-64" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h5>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>options</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#generateobjectoptions"><code>GenerateObjectOptions</code></a></td></tr></tbody></table>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="returns-66">Returns<a href="#returns-66" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h5>
<p><code>Promise</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.utils/src#generateobjectresult"><code>GenerateObjectResult</code></a>&lt;<code>T</code>&gt;&gt;</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createstreamobject">createStreamObject()<a href="#createstreamobject" class="hash-link" aria-label="Direct link to createStreamObject()" title="Direct link to createStreamObject()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createStreamObject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">bridge</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamObjectOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L518" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:518</a></p>
<p>Create a streamObject function bound to a Bridge instance</p>
<p>This is a factory function that creates a streamObject implementation
that uses the provided Bridge for making streaming LLM calls.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-65">Parameters<a href="#parameters-65" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>bridge</code></td><td><code>any</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-67">Returns<a href="#returns-67" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">StreamObjectOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">AsyncGenerator</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-3">Type Parameters<a href="#type-parameters-3" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h5>
<table><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>T</code></td><td><code>any</code></td></tr></tbody></table>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-66">Parameters<a href="#parameters-66" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h5>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>options</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#streamobjectoptions"><code>StreamObjectOptions</code></a></td></tr></tbody></table>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="returns-68">Returns<a href="#returns-68" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h5>
<p><code>AsyncGenerator</code>&lt;<code>Partial</code>&lt;<code>T</code>&gt;, <code>T</code>&gt;</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="extractsystemmessages">extractSystemMessages()<a href="#extractsystemmessages" class="hash-link" aria-label="Direct link to extractSystemMessages()" title="Direct link to extractSystemMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractSystemMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  systemMessages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  otherMessages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L27" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:27</a></p>
<p>Extract system messages from message array.</p>
<p>Returns both the system messages and the remaining non-system messages.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-67">Parameters<a href="#parameters-67" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td>Message array</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-69">Returns<a href="#returns-69" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  systemMessages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  otherMessages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Object with system messages and remaining messages</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>systemMessages</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L28" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:28</a></td></tr><tr><td><code>otherMessages</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L29" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:29</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="combinesystemmessages">combineSystemMessages()<a href="#combinesystemmessages" class="hash-link" aria-label="Direct link to combineSystemMessages()" title="Direct link to combineSystemMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">combineSystemMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">systemMessages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> separator</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L52" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:52</a></p>
<p>Combine multiple system messages into a single string.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-68">Parameters<a href="#parameters-68" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>systemMessages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><code>undefined</code></td><td>Array of system messages</td></tr><tr><td><code>separator</code></td><td><code>string</code></td><td>&#x27;\n\n&#x27;</td><td>Separator between messages (default: double newline)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-70">Returns<a href="#returns-70" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<p>Combined system message content</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="getfirstsystemmessage">getFirstSystemMessage()<a href="#getfirstsystemmessage" class="hash-link" aria-label="Direct link to getFirstSystemMessage()" title="Direct link to getFirstSystemMessage()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getFirstSystemMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L77" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:77</a></p>
<p>Get first system message as string (for providers that only support one).</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-69">Parameters<a href="#parameters-69" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td>Message array</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-71">Returns<a href="#returns-71" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<p>First system message content or undefined</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizesystemmessages">normalizeSystemMessages()<a href="#normalizesystemmessages" class="hash-link" aria-label="Direct link to normalizeSystemMessages()" title="Direct link to normalizeSystemMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">normalizeSystemMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">SystemMessageStrategy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   supportsMultiple</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  systemParameter</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L108" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:108</a></p>
<p>Normalize system messages according to provider strategy.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-70">Parameters<a href="#parameters-70" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><code>undefined</code></td><td>Original message array</td></tr><tr><td><code>strategy</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#systemmessagestrategy"><code>SystemMessageStrategy</code></a></td><td><code>undefined</code></td><td>System message strategy</td></tr><tr><td><code>supportsMultiple</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Whether provider supports multiple system messages</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-72">Returns<a href="#returns-72" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  systemParameter</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Normalized messages and optional system parameter</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>messages</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L113" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:113</a></td></tr><tr><td><code>systemParameter?</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L114" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:114</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="addsystemmessage">addSystemMessage()<a href="#addsystemmessage" class="hash-link" aria-label="Direct link to addSystemMessage()" title="Direct link to addSystemMessage()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addSystemMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   systemContent</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">SystemMessageStrategy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   supportsMultiple</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L206" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:206</a></p>
<p>Add system message to message array.</p>
<p>Handles prepending or replacing existing system messages based on strategy.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-71">Parameters<a href="#parameters-71" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td><code>undefined</code></td><td>Existing message array</td></tr><tr><td><code>systemContent</code></td><td><code>string</code></td><td><code>undefined</code></td><td>System message content to add</td></tr><tr><td><code>strategy</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#systemmessagestrategy"><code>SystemMessageStrategy</code></a></td><td><code>&#x27;in-messages&#x27;</code></td><td>System message strategy</td></tr><tr><td><code>supportsMultiple</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Whether provider supports multiple system messages</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-73">Returns<a href="#returns-73" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</p>
<p>New message array with system message added</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="hassystemmessages">hasSystemMessages()<a href="#hassystemmessages" class="hash-link" aria-label="Direct link to hasSystemMessages()" title="Direct link to hasSystemMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">hasSystemMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L249" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:249</a></p>
<p>Check if messages contain any system messages.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-72">Parameters<a href="#parameters-72" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td>Message array</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-74">Returns<a href="#returns-74" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<p>true if any message has role &#x27;system&#x27;</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="countsystemmessages">countSystemMessages()<a href="#countsystemmessages" class="hash-link" aria-label="Direct link to countSystemMessages()" title="Direct link to countSystemMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">countSystemMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/system-message.ts#L259" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/system-message.ts:259</a></p>
<p>Count system messages in array.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-73">Parameters<a href="#parameters-73" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>messages</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a>[]</td><td>Message array</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-75">Returns<a href="#returns-75" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>number</code></p>
<p>Number of system messages</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="isvalidmessagerole">isValidMessageRole()<a href="#isvalidmessagerole" class="hash-link" aria-label="Direct link to isValidMessageRole()" title="Direct link to isValidMessageRole()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">isValidMessageRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">role</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> role </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">MessageRole</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L26" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:26</a></p>
<p>Validate message role.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-74">Parameters<a href="#parameters-74" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>role</code></td><td><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-76">Returns<a href="#returns-76" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>role is MessageRole</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatemessagecontent">validateMessageContent()<a href="#validatemessagecontent" class="hash-link" aria-label="Direct link to validateMessageContent()" title="Direct link to validateMessageContent()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateMessageContent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">content</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L33" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:33</a></p>
<p>Validate message content.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-75">Parameters<a href="#parameters-75" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>content</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-77">Returns<a href="#returns-77" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>void</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatemessage">validateMessage()<a href="#validatemessage" class="hash-link" aria-label="Direct link to validateMessage()" title="Direct link to validateMessage()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">asserts</span><span class="token plain"> message </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L125" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:125</a></p>
<p>Validate a single message.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-76">Parameters<a href="#parameters-76" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-78">Returns<a href="#returns-78" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>asserts message is IRMessage</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatemessages">validateMessages()<a href="#validatemessages" class="hash-link" aria-label="Direct link to validateMessages()" title="Direct link to validateMessages()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">messages</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">asserts</span><span class="token plain"> messages </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">IRMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L203" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:203</a></p>
<p>Validate messages array.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-77">Parameters<a href="#parameters-77" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>messages</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-79">Returns<a href="#returns-79" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>asserts messages is IRMessage[]</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatetemperature">validateTemperature()<a href="#validatetemperature" class="hash-link" aria-label="Direct link to validateTemperature()" title="Direct link to validateTemperature()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateTemperature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">temperature</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L268" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:268</a></p>
<p>Validate temperature parameter.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-78">Parameters<a href="#parameters-78" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>temperature</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-80">Returns<a href="#returns-80" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>void</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatemaxtokens">validateMaxTokens()<a href="#validatemaxtokens" class="hash-link" aria-label="Direct link to validateMaxTokens()" title="Direct link to validateMaxTokens()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateMaxTokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">maxTokens</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L309" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:309</a></p>
<p>Validate maxTokens parameter.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-79">Parameters<a href="#parameters-79" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>maxTokens</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-81">Returns<a href="#returns-81" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>void</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validatetopp">validateTopP()<a href="#validatetopp" class="hash-link" aria-label="Direct link to validateTopP()" title="Direct link to validateTopP()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateTopP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">topP</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L350" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:350</a></p>
<p>Validate topP parameter.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-80">Parameters<a href="#parameters-80" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>topP</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-82">Returns<a href="#returns-82" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>void</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validateparameters">validateParameters()<a href="#validateparameters" class="hash-link" aria-label="Direct link to validateParameters()" title="Direct link to validateParameters()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">asserts</span><span class="token plain"> parameters </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">IRParameters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L391" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:391</a></p>
<p>Validate parameters object.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-81">Parameters<a href="#parameters-81" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>parameters</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-83">Returns<a href="#returns-83" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>asserts parameters is IRParameters</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validateirchatrequest">validateIRChatRequest()<a href="#validateirchatrequest" class="hash-link" aria-label="Direct link to validateIRChatRequest()" title="Direct link to validateIRChatRequest()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateIRChatRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> provenance</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ErrorProvenance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">asserts</span><span class="token plain"> request </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token maybe-class-name">IRChatRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/validation.ts#L494" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/validation.ts:494</a></p>
<p>Validate IR chat request.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-82">Parameters<a href="#parameters-82" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>request</code></td><td><code>unknown</code></td></tr><tr><td><code>provenance?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.errors/src#errorprovenance"><code>ErrorProvenance</code></a></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-84">Returns<a href="#returns-84" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>asserts request is IRChatRequest</code></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createwarning">createWarning()<a href="#createwarning" class="hash-link" aria-label="Direct link to createWarning()" title="Direct link to createWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   category</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  severity</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">WarningSeverity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  field</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  originalValue</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transformedValue</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  details</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L23" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:23</a></p>
<p>Create a warning object.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-83">Parameters<a href="#parameters-83" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>category</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningcategory"><code>WarningCategory</code></a></td><td>Warning category</td></tr><tr><td><code>message</code></td><td><code>string</code></td><td>Human-readable message</td></tr><tr><td><code>options</code></td><td>{ <code>severity?</code>: <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningseverity"><code>WarningSeverity</code></a>; <code>field?</code>: <code>string</code>; <code>originalValue?</code>: <code>unknown</code>; <code>transformedValue?</code>: <code>unknown</code>; <code>source?</code>: <code>string</code>; <code>details?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;; }</td><td>Additional warning options</td></tr><tr><td><code>options.severity?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningseverity"><code>WarningSeverity</code></a></td><td>-</td></tr><tr><td><code>options.field?</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>options.originalValue?</code></td><td><code>unknown</code></td><td>-</td></tr><tr><td><code>options.transformedValue?</code></td><td><code>unknown</code></td><td>-</td></tr><tr><td><code>options.source?</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>options.details?</code></td><td><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td>-</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-85">Returns<a href="#returns-85" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createnormalizationwarning">createNormalizationWarning()<a href="#createnormalizationwarning" class="hash-link" aria-label="Direct link to createNormalizationWarning()" title="Direct link to createNormalizationWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createNormalizationWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   field</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   originalValue</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   transformedValue</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   message</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L57" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:57</a></p>
<p>Create a parameter normalization warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-84">Parameters<a href="#parameters-84" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>field</code></td><td><code>string</code></td><td>Parameter field name</td></tr><tr><td><code>originalValue</code></td><td><code>unknown</code></td><td>Original value</td></tr><tr><td><code>transformedValue</code></td><td><code>unknown</code></td><td>Transformed value</td></tr><tr><td><code>message?</code></td><td><code>string</code></td><td>Optional custom message</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-86">Returns<a href="#returns-86" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createclampingwarning">createClampingWarning()<a href="#createclampingwarning" class="hash-link" aria-label="Direct link to createClampingWarning()" title="Direct link to createClampingWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createClampingWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   field</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   originalValue</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   clampedValue</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   min</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   max</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L89" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:89</a></p>
<p>Create a parameter clamping warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-85">Parameters<a href="#parameters-85" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>field</code></td><td><code>string</code></td><td>Parameter field name</td></tr><tr><td><code>originalValue</code></td><td><code>unknown</code></td><td>Original value</td></tr><tr><td><code>clampedValue</code></td><td><code>unknown</code></td><td>Clamped value</td></tr><tr><td><code>min</code></td><td><code>number</code></td><td>Minimum allowed value</td></tr><tr><td><code>max</code></td><td><code>number</code></td><td>Maximum allowed value</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-87">Returns<a href="#returns-87" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createunsupportedparameterwarning">createUnsupportedParameterWarning()<a href="#createunsupportedparameterwarning" class="hash-link" aria-label="Direct link to createUnsupportedParameterWarning()" title="Direct link to createUnsupportedParameterWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createUnsupportedParameterWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   field</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">unknown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L119" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:119</a></p>
<p>Create an unsupported parameter warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-86">Parameters<a href="#parameters-86" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>field</code></td><td><code>string</code></td><td>Parameter field name</td></tr><tr><td><code>value</code></td><td><code>unknown</code></td><td>Parameter value</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-88">Returns<a href="#returns-88" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createunsupportedcapabilitywarning">createUnsupportedCapabilityWarning()<a href="#createunsupportedcapabilitywarning" class="hash-link" aria-label="Direct link to createUnsupportedCapabilityWarning()" title="Direct link to createUnsupportedCapabilityWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createUnsupportedCapabilityWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">capability</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L143" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:143</a></p>
<p>Create a capability unsupported warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-87">Parameters<a href="#parameters-87" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>capability</code></td><td><code>string</code></td><td>Capability name</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-89">Returns<a href="#returns-89" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createtokenlimitwarning">createTokenLimitWarning()<a href="#createtokenlimitwarning" class="hash-link" aria-label="Direct link to createTokenLimitWarning()" title="Direct link to createTokenLimitWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createTokenLimitWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   estimatedTokens</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   maxTokens</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L163" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:163</a></p>
<p>Create a token limit exceeded warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-88">Parameters<a href="#parameters-88" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>estimatedTokens</code></td><td><code>number</code></td><td>Estimated token count</td></tr><tr><td><code>maxTokens</code></td><td><code>number</code></td><td>Maximum tokens allowed</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-90">Returns<a href="#returns-90" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="createstopsequencestruncatedwarning">createStopSequencesTruncatedWarning()<a href="#createstopsequencestruncatedwarning" class="hash-link" aria-label="Direct link to createStopSequencesTruncatedWarning()" title="Direct link to createStopSequencesTruncatedWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createStopSequencesTruncatedWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   originalCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   maxCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   source</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L187" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:187</a></p>
<p>Create a stop sequences truncated warning.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-89">Parameters<a href="#parameters-89" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>originalCount</code></td><td><code>number</code></td><td>Original number of stop sequences</td></tr><tr><td><code>maxCount</code></td><td><code>number</code></td><td>Maximum allowed</td></tr><tr><td><code>source?</code></td><td><code>string</code></td><td>Source adapter</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-91">Returns<a href="#returns-91" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></p>
<p>Warning object</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="mergewarnings">mergeWarnings()<a href="#mergewarnings" class="hash-link" aria-label="Direct link to mergeWarnings()" title="Direct link to mergeWarnings()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">mergeWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">warningArrays</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L215" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:215</a></p>
<p>Merge warning arrays, removing duplicates.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-90">Parameters<a href="#parameters-90" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>...<code>warningArrays</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[][]</td><td>Arrays of warnings to merge</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-92">Returns<a href="#returns-92" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</p>
<p>Merged and deduplicated warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="filterwarningsbyseverity">filterWarningsBySeverity()<a href="#filterwarningsbyseverity" class="hash-link" aria-label="Direct link to filterWarningsBySeverity()" title="Direct link to filterWarningsBySeverity()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterWarningsBySeverity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> minSeverity</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">WarningSeverity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L247" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:247</a></p>
<p>Filter warnings by severity.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-91">Parameters<a href="#parameters-91" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings to filter</td></tr><tr><td><code>minSeverity</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningseverity"><code>WarningSeverity</code></a></td><td>Minimum severity level</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-93">Returns<a href="#returns-93" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</p>
<p>Filtered warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="filterwarningsbycategory">filterWarningsByCategory()<a href="#filterwarningsbycategory" class="hash-link" aria-label="Direct link to filterWarningsByCategory()" title="Direct link to filterWarningsByCategory()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">filterWarningsByCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> categories</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L269" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:269</a></p>
<p>Filter warnings by category.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-92">Parameters<a href="#parameters-92" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings to filter</td></tr><tr><td><code>categories</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningcategory"><code>WarningCategory</code></a>[]</td><td>Categories to include</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-94">Returns<a href="#returns-94" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</p>
<p>Filtered warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="groupwarningsbycategory">groupWarningsByCategory()<a href="#groupwarningsbycategory" class="hash-link" aria-label="Direct link to groupWarningsByCategory()" title="Direct link to groupWarningsByCategory()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">groupWarningsByCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Map</span><span class="token operator">&lt;</span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L283" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:283</a></p>
<p>Group warnings by category.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-93">Parameters<a href="#parameters-93" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings to group</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-95">Returns<a href="#returns-95" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>Map</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningcategory"><code>WarningCategory</code></a>, <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]&gt;</p>
<p>Map of category to warnings</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="haswarning">hasWarning()<a href="#haswarning" class="hash-link" aria-label="Direct link to hasWarning()" title="Direct link to hasWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">hasWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   category</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   field</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L305" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:305</a></p>
<p>Check if warnings array contains a specific warning type.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-94">Parameters<a href="#parameters-94" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings to check</td></tr><tr><td><code>category</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningcategory"><code>WarningCategory</code></a></td><td>Warning category to look for</td></tr><tr><td><code>field?</code></td><td><code>string</code></td><td>Optional field name to match</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-96">Returns<a href="#returns-96" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>boolean</code></p>
<p>true if warning exists</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="formatwarning">formatWarning()<a href="#formatwarning" class="hash-link" aria-label="Direct link to formatWarning()" title="Direct link to formatWarning()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">formatWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warning</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> includeDetails</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L330" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:330</a></p>
<p>Format a single warning as a string.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-95">Parameters<a href="#parameters-95" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>warning</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a></td><td><code>undefined</code></td><td>Warning to format</td></tr><tr><td><code>includeDetails</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Include full details</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-97">Returns<a href="#returns-97" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<p>Formatted warning string</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="formatwarnings">formatWarnings()<a href="#formatwarnings" class="hash-link" aria-label="Direct link to formatWarnings()" title="Direct link to formatWarnings()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">formatWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> includeDetails</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L360" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:360</a></p>
<p>Format multiple warnings as a string.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-96">Parameters<a href="#parameters-96" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td><code>undefined</code></td><td>Warnings to format</td></tr><tr><td><code>includeDetails</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Include full details</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-98">Returns<a href="#returns-98" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<p><code>string</code></p>
<p>Formatted warnings string</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="getwarningsummary">getWarningSummary()<a href="#getwarningsummary" class="hash-link" aria-label="Direct link to getWarningSummary()" title="Direct link to getWarningSummary()" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getWarningSummary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">warnings</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name">IRWarning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  total</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  byCategory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bySeverity</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token maybe-class-name">WarningSeverity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L375" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:375</a></p>
<p>Get a summary of warnings by category.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-97">Parameters<a href="#parameters-97" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>warnings</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings to summarize</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="returns-99">Returns<a href="#returns-99" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h4>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  total</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  byCategory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token maybe-class-name">WarningCategory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bySeverity</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token maybe-class-name">WarningSeverity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Summary object with counts</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>total</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L376" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:376</a></td></tr><tr><td><code>byCategory</code></td><td><code>Record</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningcategory"><code>WarningCategory</code></a>, <code>number</code>&gt;</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L377" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:377</a></td></tr><tr><td><code>bySeverity</code></td><td><code>Record</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#warningseverity"><code>WarningSeverity</code></a>, <code>number</code>&gt;</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/warnings.ts#L378" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/warnings.ts:378</a></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="classes">Classes<a href="#classes" class="hash-link" aria-label="Direct link to Classes" title="Direct link to Classes" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="modelcache">ModelCache<a href="#modelcache" class="hash-link" aria-label="Direct link to ModelCache" title="Direct link to ModelCache" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L55" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:55</a></p>
<p>In-memory cache for model lists with TTL-based expiration.</p>
<p>Usage:</p>
<div class="language-typescript codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-typescript codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> cache </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Set with 1 hour TTL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;openai-backend&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> modelResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3600000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Get (returns null if expired or not found)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> cached </span><span class="token operator">=</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;openai-backend&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Invalidate specific backend</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">invalidate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;openai-backend&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Clear all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">clear</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="constructors">Constructors<a href="#constructors" class="hash-link" aria-label="Direct link to Constructors" title="Direct link to Constructors" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="constructor">Constructor<a href="#constructor" class="hash-link" aria-label="Direct link to Constructor" title="Direct link to Constructor" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L58" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:58</a></p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-100">Returns<a href="#returns-100" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#modelcache"><code>ModelCache</code></a></p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="get">get()<a href="#get" class="hash-link" aria-label="Direct link to get()" title="Direct link to get()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">backendName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ListModelsResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L68" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:68</a></p>
<p>Get cached model list for a backend.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-98">Parameters<a href="#parameters-98" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h6>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>backendName</code></td><td><code>string</code></td><td>Unique backend identifier</td></tr></tbody></table>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-101">Returns<a href="#returns-101" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#listmodelsresult"><code>ListModelsResult</code></a></p>
<p>Cached result or null if not found/expired</p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="set">set()<a href="#set" class="hash-link" aria-label="Direct link to set()" title="Direct link to set()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   backendName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   result</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ListModelsResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ttl</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L92" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:92</a></p>
<p>Cache a model list result.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-99">Parameters<a href="#parameters-99" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h6>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>backendName</code></td><td><code>string</code></td><td>Unique backend identifier</td></tr><tr><td><code>result</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#listmodelsresult"><code>ListModelsResult</code></a></td><td>Model list result to cache</td></tr><tr><td><code>ttl</code></td><td><code>number</code></td><td>Time to live in milliseconds</td></tr></tbody></table>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-102">Returns<a href="#returns-102" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>void</code></p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="has">has()<a href="#has" class="hash-link" aria-label="Direct link to has()" title="Direct link to has()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">backendName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L107" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:107</a></p>
<p>Check if backend has cached models.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-100">Parameters<a href="#parameters-100" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h6>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>backendName</code></td><td><code>string</code></td><td>Unique backend identifier</td></tr></tbody></table>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-103">Returns<a href="#returns-103" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>boolean</code></p>
<p>true if cache exists and not expired</p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="invalidate">invalidate()<a href="#invalidate" class="hash-link" aria-label="Direct link to invalidate()" title="Direct link to invalidate()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">invalidate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">backendName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L116" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:116</a></p>
<p>Invalidate (remove) cached models for a backend.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="parameters-101">Parameters<a href="#parameters-101" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters" translate="no">​</a></h6>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>backendName</code></td><td><code>string</code></td><td>Unique backend identifier</td></tr></tbody></table>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-104">Returns<a href="#returns-104" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>void</code></p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="clear">clear()<a href="#clear" class="hash-link" aria-label="Direct link to clear()" title="Direct link to clear()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">clear</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L123" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:123</a></p>
<p>Clear all cached model lists.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-105">Returns<a href="#returns-105" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>void</code></p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="size">size()<a href="#size" class="hash-link" aria-label="Direct link to size()" title="Direct link to size()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L130" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:130</a></p>
<p>Get number of cached backends.</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-106">Returns<a href="#returns-106" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>number</code></p>
<h5 class="anchor anchorTargetStickyNavbar_SAay" id="keys">keys()<a href="#keys" class="hash-link" aria-label="Direct link to keys()" title="Direct link to keys()" translate="no">​</a></h5>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">keys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L150" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:150</a></p>
<p>Get all cached backend names (excluding expired).</p>
<h6 class="anchor anchorTargetStickyNavbar_SAay" id="returns-107">Returns<a href="#returns-107" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns" translate="no">​</a></h6>
<p><code>string</code>[]</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="interfaces">Interfaces<a href="#interfaces" class="hash-link" aria-label="Direct link to Interfaces" title="Direct link to Interfaces" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="normalizationresult">NormalizationResult<a href="#normalizationresult" class="hash-link" aria-label="Direct link to NormalizationResult" title="Direct link to NormalizationResult" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L396" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:396</a></p>
<p>Result of parameter normalization with warnings.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-4">Type Parameters<a href="#type-parameters-4" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="value"></a> <code>value</code></td><td><code>T</code></td><td>Normalized value</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L398" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:398</a></td></tr><tr><td><a id="warnings"></a> <code>warnings</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irwarning"><code>IRWarning</code></a>[]</td><td>Warnings generated during normalization</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/parameter-normalizer.ts#L400" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/parameter-normalizer.ts:400</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamaccumulatorstate">StreamAccumulatorState<a href="#streamaccumulatorstate" class="hash-link" aria-label="Direct link to StreamAccumulatorState" title="Direct link to StreamAccumulatorState" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L31" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:31</a></p>
<p>Stream accumulator state for tracking accumulated content.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-1">Properties<a href="#properties-1" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="accumulated"></a> <code>accumulated</code></td><td><code>string</code></td><td>Full accumulated text so far.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L35" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:35</a></td></tr><tr><td><a id="chunkcount"></a> <code>chunkCount</code></td><td><code>number</code></td><td>Number of chunks processed.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L40" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:40</a></td></tr><tr><td><a id="lastsequence"></a> <code>lastSequence</code></td><td><code>number</code></td><td>Last chunk sequence number (for validation).</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming-modes.ts#L45" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming-modes.ts:45</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamaccumulator">StreamAccumulator<a href="#streamaccumulator" class="hash-link" aria-label="Direct link to StreamAccumulator" title="Direct link to StreamAccumulator" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L43" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:43</a></p>
<p>Accumulated stream state.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-2">Properties<a href="#properties-2" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="content"></a> <code>content</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L44" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:44</a></td></tr><tr><td><a id="role"></a> <code>role</code></td><td><code>&quot;assistant&quot;</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L45" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:45</a></td></tr><tr><td><a id="sequence"></a> <code>sequence</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L46" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:46</a></td></tr><tr><td><a id="metadata"></a> <code>metadata?</code></td><td><code>Partial</code>&lt;<a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmetadata"><code>IRMetadata</code></a>&gt;</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L47" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:47</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="sequencevalidationresult">SequenceValidationResult<a href="#sequencevalidationresult" class="hash-link" aria-label="Direct link to SequenceValidationResult" title="Direct link to SequenceValidationResult" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L495" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:495</a></p>
<p>Validate chunk sequence numbers.</p>
<p>Detects gaps or out-of-order chunks in a stream.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="param">Param<a href="#param" class="hash-link" aria-label="Direct link to Param" title="Direct link to Param" translate="no">​</a></h4>
<p>Array of chunks to validate</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-3">Properties<a href="#properties-3" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="valid"></a> <code>valid</code></td><td><code>boolean</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L496" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:496</a></td></tr><tr><td><a id="gaps"></a> <code>gaps</code></td><td><code>number</code>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L497" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:497</a></td></tr><tr><td><a id="duplicates"></a> <code>duplicates</code></td><td><code>number</code>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L498" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:498</a></td></tr><tr><td><a id="outoforder"></a> <code>outOfOrder</code></td><td><code>boolean</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L499" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:499</a></td></tr><tr><td><a id="expectednext"></a> <code>expectedNext</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L500" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:500</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamvalidationoptions">StreamValidationOptions<a href="#streamvalidationoptions" class="hash-link" aria-label="Direct link to StreamValidationOptions" title="Direct link to StreamValidationOptions" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L559" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:559</a></p>
<p>Create a validating stream wrapper.</p>
<p>Validates chunk sequences and throws errors on invalid streams.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="param-1">Param<a href="#param-1" class="hash-link" aria-label="Direct link to Param" title="Direct link to Param" translate="no">​</a></h4>
<p>Original stream</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="param-2">Param<a href="#param-2" class="hash-link" aria-label="Direct link to Param" title="Direct link to Param" translate="no">​</a></h4>
<p>Validation options</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-4">Properties<a href="#properties-4" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="strictsequence"></a> <code>strictSequence?</code></td><td><code>boolean</code></td><td>Throw error on sequence gaps. <strong>Default</strong> <code>true</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L564" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:564</a></td></tr><tr><td><a id="rejectduplicates"></a> <code>rejectDuplicates?</code></td><td><code>boolean</code></td><td>Throw error on duplicate sequences. <strong>Default</strong> <code>true</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L570" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:570</a></td></tr><tr><td><a id="maxgap"></a> <code>maxGap?</code></td><td><code>number</code></td><td>Maximum allowed gap before error. <strong>Default</strong> <code>0</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L576" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:576</a></td></tr><tr><td><a id="onwarning"></a> <code>onWarning?</code></td><td>(<code>message</code>: <code>string</code>) =&gt; <code>void</code></td><td>Callback for validation warnings.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L581" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:581</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="collectedstream">CollectedStream<a href="#collectedstream" class="hash-link" aria-label="Direct link to CollectedStream" title="Direct link to CollectedStream" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L770" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:770</a></p>
<p>Rich result from collecting a stream.
Provides content, message, all chunks, and metadata.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-5">Properties<a href="#properties-5" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Modifier</th><th>Type</th><th>Description</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="content-1"></a> <code>content</code></td><td><code>readonly</code></td><td><code>string</code></td><td>Full accumulated text content.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L774" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:774</a></td></tr><tr><td><a id="message"></a> <code>message</code></td><td><code>readonly</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irmessage"><code>IRMessage</code></a></td><td>The final message.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L779" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:779</a></td></tr><tr><td><a id="chunks"></a> <code>chunks</code></td><td><code>readonly</code></td><td>readonly <a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irstreamchunk"><code>IRStreamChunk</code></a>[]</td><td>All chunks received.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L784" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:784</a></td></tr><tr><td><a id="finishreason"></a> <code>finishReason</code></td><td><code>readonly</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#finishreason"><code>FinishReason</code></a></td><td>Finish reason from done chunk.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L789" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:789</a></td></tr><tr><td><a id="usage"></a> <code>usage?</code></td><td><code>readonly</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.core/src/-internal-#irusage"><code>IRUsage</code></a></td><td>Token usage if provided.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L794" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:794</a></td></tr><tr><td><a id="requestid"></a> <code>requestId?</code></td><td><code>readonly</code></td><td><code>string</code></td><td>Request ID from start chunk.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L799" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:799</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="processstreamoptions">ProcessStreamOptions<a href="#processstreamoptions" class="hash-link" aria-label="Direct link to ProcessStreamOptions" title="Direct link to ProcessStreamOptions" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L857" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:857</a></p>
<p>Options for processing a stream with callbacks.</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-6">Properties<a href="#properties-6" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Modifier</th><th>Type</th><th>Description</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="oncontent"></a> <code>onContent?</code></td><td><code>readonly</code></td><td>(<code>delta</code>: <code>string</code>, <code>accumulated</code>: <code>string</code>) =&gt; <code>void</code></td><td>Called for each content chunk.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L861" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:861</a></td></tr><tr><td><a id="onstart"></a> <code>onStart?</code></td><td><code>readonly</code></td><td>(<code>requestId</code>: <code>string</code>) =&gt; <code>void</code></td><td>Called when stream starts.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L866" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:866</a></td></tr><tr><td><a id="ondone"></a> <code>onDone?</code></td><td><code>readonly</code></td><td>(<code>result</code>: <a class="" href="/ai.matey/api/generated/ai.matey.utils/src#collectedstream"><code>CollectedStream</code></a>) =&gt; <code>void</code></td><td>Called when stream ends.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L871" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:871</a></td></tr><tr><td><a id="onerror"></a> <code>onError?</code></td><td><code>readonly</code></td><td>(<code>error</code>: <code>Error</code>) =&gt; <code>void</code></td><td>Called on error.</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/streaming.ts#L876" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/streaming.ts:876</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="tooldefinition">ToolDefinition<a href="#tooldefinition" class="hash-link" aria-label="Direct link to ToolDefinition" title="Direct link to ToolDefinition" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L54" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:54</a></p>
<p>OpenAI-compatible tool definition format</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-7">Properties<a href="#properties-7" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="type"></a> <code>type</code></td><td><code>&quot;function&quot;</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L55" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:55</a></td></tr><tr><td><a id="function"></a> <code>function</code></td><td>{ <code>name</code>: <code>string</code>; <code>description</code>: <code>string</code>; <code>parameters</code>: <a class="" href="/ai.matey/api/generated/ai.matey.utils/src#jsonschema"><code>JSONSchema</code></a>; }</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L56" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:56</a></td></tr><tr><td><code>function.name</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L57" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:57</a></td></tr><tr><td><code>function.description</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L58" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:58</a></td></tr><tr><td><code>function.parameters</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#jsonschema"><code>JSONSchema</code></a></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L59" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:59</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="jsonschema">JSONSchema<a href="#jsonschema" class="hash-link" aria-label="Direct link to JSONSchema" title="Direct link to JSONSchema" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L66" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:66</a></p>
<p>JSON Schema representation (subset used for tool definitions)</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-8">Properties<a href="#properties-8" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="type-1"></a> <code>type</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L67" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:67</a></td></tr><tr><td><a id="properties"></a> <code>properties?</code></td><td><code>Record</code>&lt;<code>string</code>, <a class="" href="/ai.matey/api/generated/ai.matey.utils/src#jsonschema"><code>JSONSchema</code></a>&gt;</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L68" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:68</a></td></tr><tr><td><a id="items"></a> <code>items?</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#jsonschema"><code>JSONSchema</code></a></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L69" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:69</a></td></tr><tr><td><a id="enum"></a> <code>enum?</code></td><td><code>string</code>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L70" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:70</a></td></tr><tr><td><a id="required"></a> <code>required?</code></td><td><code>string</code>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L71" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:71</a></td></tr><tr><td><a id="description"></a> <code>description?</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L72" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:72</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="piimatch">PIIMatch<a href="#piimatch" class="hash-link" aria-label="Direct link to PIIMatch" title="Direct link to PIIMatch" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L78" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:78</a></p>
<p>PII match information</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-9">Properties<a href="#properties-9" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="type-2"></a> <code>type</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L79" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:79</a></td></tr><tr><td><a id="value-1"></a> <code>value</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L80" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:80</a></td></tr><tr><td><a id="start"></a> <code>start</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L81" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:81</a></td></tr><tr><td><a id="end"></a> <code>end</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L82" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:82</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="piidetectionresult">PIIDetectionResult<a href="#piidetectionresult" class="hash-link" aria-label="Direct link to PIIDetectionResult" title="Direct link to PIIDetectionResult" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L88" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:88</a></p>
<p>PII detection result</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-10">Properties<a href="#properties-10" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="detected"></a> <code>detected</code></td><td><code>boolean</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L89" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:89</a></td></tr><tr><td><a id="matches"></a> <code>matches</code></td><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src#piimatch"><code>PIIMatch</code></a>[]</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L90" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:90</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="piipattern">PIIPattern<a href="#piipattern" class="hash-link" aria-label="Direct link to PIIPattern" title="Direct link to PIIPattern" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L96" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:96</a></p>
<p>PII pattern configuration</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-11">Properties<a href="#properties-11" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="type-3"></a> <code>type</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L97" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:97</a></td></tr><tr><td><a id="pattern"></a> <code>pattern</code></td><td><code>RegExp</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L98" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:98</a></td></tr><tr><td><a id="replacement"></a> <code>replacement</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L99" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:99</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="generateobjectoptions">GenerateObjectOptions<a href="#generateobjectoptions" class="hash-link" aria-label="Direct link to GenerateObjectOptions" title="Direct link to GenerateObjectOptions" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L409" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:409</a></p>
<p>Options for generateObject</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-5">Type Parameters<a href="#type-parameters-5" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>T</code></td><td><code>any</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-12">Properties<a href="#properties-12" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="schema"></a> <code>schema</code></td><td><code>T</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L410" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:410</a></td></tr><tr><td><a id="prompt"></a> <code>prompt</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L411" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:411</a></td></tr><tr><td><a id="model"></a> <code>model?</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L412" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:412</a></td></tr><tr><td><a id="temperature"></a> <code>temperature?</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L413" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:413</a></td></tr><tr><td><a id="maxretries"></a> <code>maxRetries?</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L414" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:414</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="generateobjectresult">GenerateObjectResult<a href="#generateobjectresult" class="hash-link" aria-label="Direct link to GenerateObjectResult" title="Direct link to GenerateObjectResult" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L420" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:420</a></p>
<p>Result from generateObject</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-6">Type Parameters<a href="#type-parameters-6" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-13">Properties<a href="#properties-13" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="object"></a> <code>object</code></td><td><code>T</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L421" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:421</a></td></tr><tr><td><a id="usage-1"></a> <code>usage?</code></td><td>{ <code>promptTokens</code>: <code>number</code>; <code>completionTokens</code>: <code>number</code>; <code>totalTokens</code>: <code>number</code>; }</td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L422" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:422</a></td></tr><tr><td><code>usage.promptTokens</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L423" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:423</a></td></tr><tr><td><code>usage.completionTokens</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L424" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:424</a></td></tr><tr><td><code>usage.totalTokens</code></td><td><code>number</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L425" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:425</a></td></tr><tr><td><a id="finishreason-1"></a> <code>finishReason</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L427" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:427</a></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="streamobjectoptions">StreamObjectOptions<a href="#streamobjectoptions" class="hash-link" aria-label="Direct link to StreamObjectOptions" title="Direct link to StreamObjectOptions" translate="no">​</a></h3>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L433" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:433</a></p>
<p>Options for streamObject</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-7">Type Parameters<a href="#type-parameters-7" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>T</code></td><td><code>any</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="properties-14">Properties<a href="#properties-14" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no">​</a></h4>
<table><thead><tr><th>Property</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="schema-1"></a> <code>schema</code></td><td><code>T</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L434" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:434</a></td></tr><tr><td><a id="prompt-1"></a> <code>prompt</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L435" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:435</a></td></tr><tr><td><a id="model-1"></a> <code>model?</code></td><td><code>string</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L436" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:436</a></td></tr><tr><td><a id="onpartial"></a> <code>onPartial?</code></td><td>(<code>partial</code>: <code>Partial</code>&lt;<code>T</code>&gt;) =&gt; <code>void</code></td><td><a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L437" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:437</a></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="type-aliases">Type Aliases<a href="#type-aliases" class="hash-link" aria-label="Direct link to Type Aliases" title="Direct link to Type Aliases" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="trimstrategy">TrimStrategy<a href="#trimstrategy" class="hash-link" aria-label="Direct link to TrimStrategy" title="Direct link to TrimStrategy" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">TrimStrategy</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;fifo&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;smart&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/conversation-history.ts#L15" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/conversation-history.ts:15</a></p>
<p>Strategy for trimming conversation history</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="validationresult">ValidationResult<a href="#validationresult" class="hash-link" aria-label="Direct link to ValidationResult" title="Direct link to ValidationResult" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ValidationResult</span><span class="token class-name operator">&lt;</span><span class="token class-name constant" style="color:rgb(189, 147, 249)">T</span><span class="token class-name operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">T</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  errors</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L105" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:105</a></p>
<p>Validation result</p>
<h4 class="anchor anchorTargetStickyNavbar_SAay" id="type-parameters-8">Type Parameters<a href="#type-parameters-8" class="hash-link" aria-label="Direct link to Type Parameters" title="Direct link to Type Parameters" translate="no">​</a></h4>
<table><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>T</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Direct link to Variables" title="Direct link to Variables" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="globalmodelcache">globalModelCache<a href="#globalmodelcache" class="hash-link" aria-label="Direct link to globalModelCache" title="Direct link to globalModelCache" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> globalModelCache</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">ModelCache</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/model-cache.ts#L177" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/model-cache.ts:177</a></p>
<p>Global model cache shared across all adapter instances.</p>
<p>This is the default cache used when <code>modelsCacheScope: &#x27;global&#x27;</code>.
Reduces redundant API calls when multiple adapters share the same backend.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="default_pii_patterns">DEFAULT_PII_PATTERNS<a href="#default_pii_patterns" class="hash-link" aria-label="Direct link to DEFAULT_PII_PATTERNS" title="Direct link to DEFAULT_PII_PATTERNS" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULT_PII_PATTERNS</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">PIIPattern</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L303" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:303</a></p>
<p>Default PII patterns for detection</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_SAay" id="default_injection_patterns">DEFAULT_INJECTION_PATTERNS<a href="#default_injection_patterns" class="hash-link" aria-label="Direct link to DEFAULT_INJECTION_PATTERNS" title="Direct link to DEFAULT_INJECTION_PATTERNS" translate="no">​</a></h3>
<div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DEFAULT_INJECTION_PATTERNS</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">RegExp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p>Defined in: <a href="https://github.com/johnhenry/ai.matey/blob/5a37cdea8ef93fe69caa32d2e6c3fbdcdcddffb8/packages/ai.matey.utils/src/structured-output.ts#L329" target="_blank" rel="noopener noreferrer" class="">packages/ai.matey.utils/src/structured-output.ts:329</a></p>
<p>Default prompt injection patterns</p>
<h2 class="anchor anchorTargetStickyNavbar_SAay" id="modules">Modules<a href="#modules" class="hash-link" aria-label="Direct link to Modules" title="Direct link to Modules" translate="no">​</a></h2>
<table><thead><tr><th>Module</th><th>Description</th></tr></thead><tbody><tr><td><a class="" href="/ai.matey/api/generated/ai.matey.utils/src/-internal-">&lt;internal&gt;</a></td><td>-</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_HJkF"><a href="https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/docs/api/generated/ai.matey.utils/src/README.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_g62E"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai.matey/api/generated/ai.matey.types/src"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">src</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ai.matey/api/generated/ai.matey.utils/src/-internal-"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">-internal-</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#trimhistory" class="table-of-contents__link toc-highlight">trimHistory()</a></li><li><a href="#countmessagepairs" class="table-of-contents__link toc-highlight">countMessagePairs()</a></li><li><a href="#shouldtrimhistory" class="table-of-contents__link toc-highlight">shouldTrimHistory()</a></li><li><a href="#getmodelcache" class="table-of-contents__link toc-highlight">getModelCache()</a></li><li><a href="#normalizetemperature" class="table-of-contents__link toc-highlight">normalizeTemperature()</a></li><li><a href="#denormalizetemperature" class="table-of-contents__link toc-highlight">denormalizeTemperature()</a></li><li><a href="#normalizetopp" class="table-of-contents__link toc-highlight">normalizeTopP()</a></li><li><a href="#normalizetopk" class="table-of-contents__link toc-highlight">normalizeTopK()</a></li><li><a href="#normalizepenalty" class="table-of-contents__link toc-highlight">normalizePenalty()</a></li><li><a href="#normalizestopsequences" class="table-of-contents__link toc-highlight">normalizeStopSequences()</a></li><li><a href="#filterunsupportedparameters" class="table-of-contents__link toc-highlight">filterUnsupportedParameters()</a></li><li><a href="#applyparameterdefaults" class="table-of-contents__link toc-highlight">applyParameterDefaults()</a></li><li><a href="#mergeparameters" class="table-of-contents__link toc-highlight">mergeParameters()</a></li><li><a href="#clampparameter" class="table-of-contents__link toc-highlight">clampParameter()</a></li><li><a href="#sanitizeparameters" class="table-of-contents__link toc-highlight">sanitizeParameters()</a></li><li><a href="#areparametersvalid" class="table-of-contents__link toc-highlight">areParametersValid()</a></li><li><a href="#normalizetemperaturewithwarnings" class="table-of-contents__link toc-highlight">normalizeTemperatureWithWarnings()</a></li><li><a href="#normalizestopsequenceswithwarnings" class="table-of-contents__link toc-highlight">normalizeStopSequencesWithWarnings()</a></li><li><a href="#filterunsupportedparameterswithwarnings" class="table-of-contents__link toc-highlight">filterUnsupportedParametersWithWarnings()</a></li><li><a href="#createaccumulatorstate" class="table-of-contents__link toc-highlight">createAccumulatorState()</a></li><li><a href="#detectchunkmode" class="table-of-contents__link toc-highlight">detectChunkMode()</a></li><li><a href="#needsconversion" class="table-of-contents__link toc-highlight">needsConversion()</a></li><li><a href="#convertstreammode" class="table-of-contents__link toc-highlight">convertStreamMode()</a></li><li><a href="#convertchunkmode" class="table-of-contents__link toc-highlight">convertChunkMode()</a></li><li><a href="#geteffectivestreammode" class="table-of-contents__link toc-highlight">getEffectiveStreamMode()</a></li><li><a href="#mergestreamingconfig" class="table-of-contents__link toc-highlight">mergeStreamingConfig()</a></li><li><a href="#ensurestreammode" class="table-of-contents__link toc-highlight">ensureStreamMode()</a></li><li><a href="#addaccumulatedtostream" class="table-of-contents__link toc-highlight">addAccumulatedToStream()</a></li><li><a href="#stripaccumulatedfromstream" class="table-of-contents__link toc-highlight">stripAccumulatedFromStream()</a></li><li><a href="#createstreamaccumulator" class="table-of-contents__link toc-highlight">createStreamAccumulator()</a></li><li><a href="#accumulatechunk" class="table-of-contents__link toc-highlight">accumulateChunk()</a></li><li><a href="#accumulatortomessage" class="table-of-contents__link toc-highlight">accumulatorToMessage()</a></li><li><a href="#accumulatortoresponse" class="table-of-contents__link toc-highlight">accumulatorToResponse()</a></li><li><a href="#transformstream" class="table-of-contents__link toc-highlight">transformStream()</a></li><li><a href="#filterstream" class="table-of-contents__link toc-highlight">filterStream()</a></li><li><a href="#mapstream" class="table-of-contents__link toc-highlight">mapStream()</a></li><li><a href="#tapstream" class="table-of-contents__link toc-highlight">tapStream()</a></li><li><a href="#collectstream" class="table-of-contents__link toc-highlight">collectStream()</a></li><li><a href="#streamtoresponse" class="table-of-contents__link toc-highlight">streamToResponse()</a></li><li><a href="#streamtotext" class="table-of-contents__link toc-highlight">streamToText()</a></li><li><a href="#splitstream" class="table-of-contents__link toc-highlight">splitStream()</a></li><li><a href="#catchstreamerrors" class="table-of-contents__link toc-highlight">catchStreamErrors()</a></li><li><a href="#streamwithtimeout" class="table-of-contents__link toc-highlight">streamWithTimeout()</a></li><li><a href="#iscontentchunk" class="table-of-contents__link toc-highlight">isContentChunk()</a></li><li><a href="#isdonechunk" class="table-of-contents__link toc-highlight">isDoneChunk()</a></li><li><a href="#iserrorchunk" class="table-of-contents__link toc-highlight">isErrorChunk()</a></li><li><a href="#getcontentdeltas" class="table-of-contents__link toc-highlight">getContentDeltas()</a></li><li><a href="#streamtotextiterator" class="table-of-contents__link toc-highlight">streamToTextIterator()</a></li><li><a href="#validatechunksequence" class="table-of-contents__link toc-highlight">validateChunkSequence()</a></li><li><a href="#validatestream" class="table-of-contents__link toc-highlight">validateStream()</a></li><li><a href="#assemblestreamchunks" class="table-of-contents__link toc-highlight">assembleStreamChunks()</a></li><li><a href="#createstreamerror" class="table-of-contents__link toc-highlight">createStreamError()</a></li><li><a href="#streamwithbackpressure" class="table-of-contents__link toc-highlight">streamWithBackpressure()</a></li><li><a href="#ratelimitstream" class="table-of-contents__link toc-highlight">rateLimitStream()</a></li><li><a href="#collectstreamfull" class="table-of-contents__link toc-highlight">collectStreamFull()</a></li><li><a href="#processstream" class="table-of-contents__link toc-highlight">processStream()</a></li><li><a href="#streamtolines" class="table-of-contents__link toc-highlight">streamToLines()</a></li><li><a href="#throttlestream" class="table-of-contents__link toc-highlight">throttleStream()</a></li><li><a href="#teestream" class="table-of-contents__link toc-highlight">teeStream()</a></li><li><a href="#schematotooldefinition" class="table-of-contents__link toc-highlight">schemaToToolDefinition()</a></li><li><a href="#validatewithschema" class="table-of-contents__link toc-highlight">validateWithSchema()</a></li><li><a href="#detectpii" class="table-of-contents__link toc-highlight">detectPII()</a></li><li><a href="#redactpii" class="table-of-contents__link toc-highlight">redactPII()</a></li><li><a href="#detectpromptinjection" class="table-of-contents__link toc-highlight">detectPromptInjection()</a></li><li><a href="#sanitizetext" class="table-of-contents__link toc-highlight">sanitizeText()</a></li><li><a href="#creategenerateobject" class="table-of-contents__link toc-highlight">createGenerateObject()</a></li><li><a href="#createstreamobject" class="table-of-contents__link toc-highlight">createStreamObject()</a></li><li><a href="#extractsystemmessages" class="table-of-contents__link toc-highlight">extractSystemMessages()</a></li><li><a href="#combinesystemmessages" class="table-of-contents__link toc-highlight">combineSystemMessages()</a></li><li><a href="#getfirstsystemmessage" class="table-of-contents__link toc-highlight">getFirstSystemMessage()</a></li><li><a href="#normalizesystemmessages" class="table-of-contents__link toc-highlight">normalizeSystemMessages()</a></li><li><a href="#addsystemmessage" class="table-of-contents__link toc-highlight">addSystemMessage()</a></li><li><a href="#hassystemmessages" class="table-of-contents__link toc-highlight">hasSystemMessages()</a></li><li><a href="#countsystemmessages" class="table-of-contents__link toc-highlight">countSystemMessages()</a></li><li><a href="#isvalidmessagerole" class="table-of-contents__link toc-highlight">isValidMessageRole()</a></li><li><a href="#validatemessagecontent" class="table-of-contents__link toc-highlight">validateMessageContent()</a></li><li><a href="#validatemessage" class="table-of-contents__link toc-highlight">validateMessage()</a></li><li><a href="#validatemessages" class="table-of-contents__link toc-highlight">validateMessages()</a></li><li><a href="#validatetemperature" class="table-of-contents__link toc-highlight">validateTemperature()</a></li><li><a href="#validatemaxtokens" class="table-of-contents__link toc-highlight">validateMaxTokens()</a></li><li><a href="#validatetopp" class="table-of-contents__link toc-highlight">validateTopP()</a></li><li><a href="#validateparameters" class="table-of-contents__link toc-highlight">validateParameters()</a></li><li><a href="#validateirchatrequest" class="table-of-contents__link toc-highlight">validateIRChatRequest()</a></li><li><a href="#createwarning" class="table-of-contents__link toc-highlight">createWarning()</a></li><li><a href="#createnormalizationwarning" class="table-of-contents__link toc-highlight">createNormalizationWarning()</a></li><li><a href="#createclampingwarning" class="table-of-contents__link toc-highlight">createClampingWarning()</a></li><li><a href="#createunsupportedparameterwarning" class="table-of-contents__link toc-highlight">createUnsupportedParameterWarning()</a></li><li><a href="#createunsupportedcapabilitywarning" class="table-of-contents__link toc-highlight">createUnsupportedCapabilityWarning()</a></li><li><a href="#createtokenlimitwarning" class="table-of-contents__link toc-highlight">createTokenLimitWarning()</a></li><li><a href="#createstopsequencestruncatedwarning" class="table-of-contents__link toc-highlight">createStopSequencesTruncatedWarning()</a></li><li><a href="#mergewarnings" class="table-of-contents__link toc-highlight">mergeWarnings()</a></li><li><a href="#filterwarningsbyseverity" class="table-of-contents__link toc-highlight">filterWarningsBySeverity()</a></li><li><a href="#filterwarningsbycategory" class="table-of-contents__link toc-highlight">filterWarningsByCategory()</a></li><li><a href="#groupwarningsbycategory" class="table-of-contents__link toc-highlight">groupWarningsByCategory()</a></li><li><a href="#haswarning" class="table-of-contents__link toc-highlight">hasWarning()</a></li><li><a href="#formatwarning" class="table-of-contents__link toc-highlight">formatWarning()</a></li><li><a href="#formatwarnings" class="table-of-contents__link toc-highlight">formatWarnings()</a></li><li><a href="#getwarningsummary" class="table-of-contents__link toc-highlight">getWarningSummary()</a></li></ul></li><li><a href="#classes" class="table-of-contents__link toc-highlight">Classes</a><ul><li><a href="#modelcache" class="table-of-contents__link toc-highlight">ModelCache</a></li></ul></li><li><a href="#interfaces" class="table-of-contents__link toc-highlight">Interfaces</a><ul><li><a href="#normalizationresult" class="table-of-contents__link toc-highlight">NormalizationResult</a></li><li><a href="#streamaccumulatorstate" class="table-of-contents__link toc-highlight">StreamAccumulatorState</a></li><li><a href="#streamaccumulator" class="table-of-contents__link toc-highlight">StreamAccumulator</a></li><li><a href="#sequencevalidationresult" class="table-of-contents__link toc-highlight">SequenceValidationResult</a></li><li><a href="#streamvalidationoptions" class="table-of-contents__link toc-highlight">StreamValidationOptions</a></li><li><a href="#collectedstream" class="table-of-contents__link toc-highlight">CollectedStream</a></li><li><a href="#processstreamoptions" class="table-of-contents__link toc-highlight">ProcessStreamOptions</a></li><li><a href="#tooldefinition" class="table-of-contents__link toc-highlight">ToolDefinition</a></li><li><a href="#jsonschema" class="table-of-contents__link toc-highlight">JSONSchema</a></li><li><a href="#piimatch" class="table-of-contents__link toc-highlight">PIIMatch</a></li><li><a href="#piidetectionresult" class="table-of-contents__link toc-highlight">PIIDetectionResult</a></li><li><a href="#piipattern" class="table-of-contents__link toc-highlight">PIIPattern</a></li><li><a href="#generateobjectoptions" class="table-of-contents__link toc-highlight">GenerateObjectOptions</a></li><li><a href="#generateobjectresult" class="table-of-contents__link toc-highlight">GenerateObjectResult</a></li><li><a href="#streamobjectoptions" class="table-of-contents__link toc-highlight">StreamObjectOptions</a></li></ul></li><li><a href="#type-aliases" class="table-of-contents__link toc-highlight">Type Aliases</a><ul><li><a href="#trimstrategy" class="table-of-contents__link toc-highlight">TrimStrategy</a></li><li><a href="#validationresult" class="table-of-contents__link toc-highlight">ValidationResult</a></li></ul></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href="#globalmodelcache" class="table-of-contents__link toc-highlight">globalModelCache</a></li><li><a href="#default_pii_patterns" class="table-of-contents__link toc-highlight">DEFAULT_PII_PATTERNS</a></li><li><a href="#default_injection_patterns" class="table-of-contents__link toc-highlight">DEFAULT_INJECTION_PATTERNS</a></li></ul></li><li><a href="#modules" class="table-of-contents__link toc-highlight">Modules</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ai.matey/getting-started/installation">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/ai.matey/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/ai.matey/api">API Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Examples</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ai.matey/examples">Browse Examples</a></li><li class="footer__item"><a href="https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">View on GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/johnhenry/ai.matey" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/johnhenry/ai.matey/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/ai.matey" target="_blank" rel="noopener noreferrer" class="footer__link-item">npm<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 AI Matey. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>