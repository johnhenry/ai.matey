"use strict";(globalThis.webpackChunkai_matey_docs=globalThis.webpackChunkai_matey_docs||[]).push([[389],{264:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"getting-started/your-first-bridge","title":"Your First Bridge - Step-by-Step Tutorial","description":"Build a complete AI application using ai.matey in this hands-on tutorial. You\'ll create a bridge, handle errors, add streaming, and learn best practices.","source":"@site/docs/getting-started/your-first-bridge.md","sourceDirName":"getting-started","slug":"/getting-started/your-first-bridge","permalink":"/ai.matey/getting-started/your-first-bridge","draft":false,"unlisted":false,"editUrl":"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/docs/getting-started/your-first-bridge.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Core Concepts","permalink":"/ai.matey/getting-started/core-concepts"},"next":{"title":"Tutorials","permalink":"/ai.matey/tutorials/"}}');var s=r(1085),i=r(1184);const a={},o="Your First Bridge - Step-by-Step Tutorial",c={},d=[{value:"What You&#39;ll Build",id:"what-youll-build",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Project Setup",id:"step-1-project-setup",level:2},{value:"Create Project Directory",id:"create-project-directory",level:3},{value:"Install Dependencies",id:"install-dependencies",level:3},{value:"Configure TypeScript",id:"configure-typescript",level:3},{value:"Set Up Environment",id:"set-up-environment",level:3},{value:"Step 2: Create Your First Bridge",id:"step-2-create-your-first-bridge",level:2},{value:"Test It",id:"test-it",level:3},{value:"Step 3: Add Error Handling",id:"step-3-add-error-handling",level:2},{value:"Step 4: Add Streaming Support",id:"step-4-add-streaming-support",level:2},{value:"Test Streaming",id:"test-streaming",level:3},{value:"Step 5: Add Multi-Turn Conversations",id:"step-5-add-multi-turn-conversations",level:2},{value:"Test Multi-Turn Chat",id:"test-multi-turn-chat",level:3},{value:"Step 6: Add Environment-Based Configuration",id:"step-6-add-environment-based-configuration",level:2},{value:"Step 7: Add Middleware",id:"step-7-add-middleware",level:2},{value:"Step 8: Create a CLI Tool",id:"step-8-create-a-cli-tool",level:2},{value:"Final Project Structure",id:"final-project-structure",level:2},{value:"What You&#39;ve Learned",id:"what-youve-learned",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Explore More Examples",id:"explore-more-examples",level:3},{value:"Dive Deeper",id:"dive-deeper",level:3},{value:"Build Real Applications",id:"build-real-applications",level:3},{value:"Common Enhancements",id:"common-enhancements",level:2},{value:"Add Rate Limiting",id:"add-rate-limiting",level:3},{value:"Add Cost Tracking",id:"add-cost-tracking",level:3},{value:"Add Multi-Provider Fallback",id:"add-multi-provider-fallback",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Invalid API Key&quot; Error",id:"invalid-api-key-error",level:3},{value:"Streaming Not Working",id:"streaming-not-working",level:3},{value:"TypeScript Errors",id:"typescript-errors",level:3},{value:"Need Help?",id:"need-help",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"your-first-bridge---step-by-step-tutorial",children:"Your First Bridge - Step-by-Step Tutorial"})}),"\n",(0,s.jsx)(n.p,{children:"Build a complete AI application using ai.matey in this hands-on tutorial. You'll create a bridge, handle errors, add streaming, and learn best practices."}),"\n",(0,s.jsx)(n.h2,{id:"what-youll-build",children:"What You'll Build"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this tutorial, you'll have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 A working bridge connecting OpenAI format to Anthropic (Claude)"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Error handling with graceful fallbacks"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Streaming support for real-time responses"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Environment-based configuration"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 A reusable helper module"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Time to complete:"})," ~15 minutes"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js 18+ installed"}),"\n",(0,s.jsx)(n.li,{children:"Basic TypeScript knowledge"}),"\n",(0,s.jsxs)(n.li,{children:["An ",(0,s.jsx)(n.a,{href:"https://console.anthropic.com/",children:"Anthropic API key"})," (free tier available)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-project-setup",children:"Step 1: Project Setup"}),"\n",(0,s.jsx)(n.h3,{id:"create-project-directory",children:"Create Project Directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir my-ai-app\ncd my-ai-app\nnpm init -y\n"})}),"\n",(0,s.jsx)(n.h3,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install ai.matey.core ai.matey.frontend ai.matey.backend\nnpm install -D tsx typescript @types/node\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configure-typescript",children:"Configure TypeScript"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "ES2020",\n    "module": "ESNext",\n    "moduleResolution": "bundler",\n    "lib": ["ES2020"],\n    "strict": true,\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "resolveJsonModule": true\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"set-up-environment",children:"Set Up Environment"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ANTHROPIC_API_KEY=sk-ant-your-key-here\n"})}),"\n",(0,s.jsx)(n.p,{children:"Install dotenv:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install dotenv\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-create-your-first-bridge",children:"Step 2: Create Your First Bridge"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/bridge.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import 'dotenv/config';\nimport { Bridge } from 'ai.matey.core';\nimport { OpenAIFrontendAdapter } from 'ai.matey.frontend/openai';\nimport { AnthropicBackendAdapter } from 'ai.matey.backend/anthropic';\n\n// Validate API key\nif (!process.env.ANTHROPIC_API_KEY) {\n  throw new Error('ANTHROPIC_API_KEY is required in .env file');\n}\n\n// Create the bridge\nexport const bridge = new Bridge(\n  new OpenAIFrontendAdapter(),\n  new AnthropicBackendAdapter({\n    apiKey: process.env.ANTHROPIC_API_KEY\n  })\n);\n\n// Helper function for chat\nexport async function chat(message: string) {\n  const response = await bridge.chat({\n    model: 'gpt-4', // Will be mapped to Claude\n    messages: [\n      { role: 'user', content: message }\n    ],\n    temperature: 0.7,\n    max_tokens: 500\n  });\n\n  return response.choices[0].message.content;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"test-it",children:"Test It"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/test.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { chat } from './bridge.js';\n\nasync function main() {\n  try {\n    const response = await chat('What is ai.matey in one sentence?');\n    console.log('Claude says:', response);\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nmain();\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsx src/test.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see Claude's response! \ud83c\udf89"}),"\n",(0,s.jsx)(n.h2,{id:"step-3-add-error-handling",children:"Step 3: Add Error Handling"}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"src/bridge.ts"})," to handle errors gracefully:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import 'dotenv/config';\nimport { Bridge } from 'ai.matey.core';\nimport { OpenAIFrontendAdapter } from 'ai.matey.frontend/openai';\nimport { AnthropicBackendAdapter } from 'ai.matey.backend/anthropic';\n\nif (!process.env.ANTHROPIC_API_KEY) {\n  throw new Error('ANTHROPIC_API_KEY is required');\n}\n\nexport const bridge = new Bridge(\n  new OpenAIFrontendAdapter(),\n  new AnthropicBackendAdapter({\n    apiKey: process.env.ANTHROPIC_API_KEY\n  })\n);\n\nexport async function chat(message: string) {\n  try {\n    const response = await bridge.chat({\n      model: 'gpt-4',\n      messages: [{ role: 'user', content: message }],\n      temperature: 0.7,\n      max_tokens: 500\n    });\n\n    return response.choices[0].message.content;\n\n  } catch (error) {\n    // Handle specific error types\n    if (error instanceof Error) {\n      if (error.message.includes('rate_limit')) {\n        throw new Error('Rate limit exceeded. Please try again later.');\n      }\n      if (error.message.includes('invalid_api_key')) {\n        throw new Error('Invalid API key. Check your .env file.');\n      }\n    }\n\n    // Re-throw unknown errors\n    throw error;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-4-add-streaming-support",children:"Step 4: Add Streaming Support"}),"\n",(0,s.jsxs)(n.p,{children:["Add streaming to ",(0,s.jsx)(n.code,{children:"src/bridge.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export async function chatStream(message: string) {\n  try {\n    const stream = await bridge.chatStream({\n      model: 'gpt-4',\n      messages: [{ role: 'user', content: message }],\n      temperature: 0.7,\n      stream: true\n    });\n\n    return stream;\n\n  } catch (error) {\n    if (error instanceof Error) {\n      if (error.message.includes('rate_limit')) {\n        throw new Error('Rate limit exceeded. Please try again later.');\n      }\n    }\n    throw error;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"test-streaming",children:"Test Streaming"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/test-stream.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { chatStream } from './bridge.js';\n\nasync function main() {\n  try {\n    console.log('Streaming response:\\n');\n\n    const stream = await chatStream('Write a haiku about coding');\n\n    for await (const chunk of stream) {\n      const delta = chunk.choices[0]?.delta?.content;\n      if (delta) {\n        process.stdout.write(delta);\n      }\n    }\n\n    console.log('\\n\\nDone!');\n\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nmain();\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsx src/test-stream.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:"Watch the response stream in real-time! \u26a1"}),"\n",(0,s.jsx)(n.h2,{id:"step-5-add-multi-turn-conversations",children:"Step 5: Add Multi-Turn Conversations"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/conversation.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { bridge } from './bridge.js';\n\ninterface Message {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n}\n\nexport class Conversation {\n  private messages: Message[] = [];\n\n  constructor(systemPrompt?: string) {\n    if (systemPrompt) {\n      this.messages.push({\n        role: 'system',\n        content: systemPrompt\n      });\n    }\n  }\n\n  async send(userMessage: string): Promise<string> {\n    // Add user message\n    this.messages.push({\n      role: 'user',\n      content: userMessage\n    });\n\n    // Get AI response\n    const response = await bridge.chat({\n      model: 'gpt-4',\n      messages: this.messages,\n      temperature: 0.7\n    });\n\n    const assistantMessage = response.choices[0].message.content;\n\n    // Add assistant response to history\n    this.messages.push({\n      role: 'assistant',\n      content: assistantMessage\n    });\n\n    return assistantMessage;\n  }\n\n  getHistory(): Message[] {\n    return [...this.messages];\n  }\n\n  clear(): void {\n    this.messages = [];\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"test-multi-turn-chat",children:"Test Multi-Turn Chat"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/test-conversation.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Conversation } from './conversation.js';\n\nasync function main() {\n  const conv = new Conversation(\n    'You are a helpful coding assistant. Keep responses concise.'\n  );\n\n  try {\n    // First message\n    console.log('User: What is TypeScript?');\n    const response1 = await conv.send('What is TypeScript?');\n    console.log('AI:', response1, '\\n');\n\n    // Follow-up message\n    console.log('User: How is it different from JavaScript?');\n    const response2 = await conv.send('How is it different from JavaScript?');\n    console.log('AI:', response2, '\\n');\n\n    // Show conversation history\n    console.log('\\n=== Conversation History ===');\n    console.log(JSON.stringify(conv.getHistory(), null, 2));\n\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nmain();\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsx src/test-conversation.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:"The AI remembers context from previous messages! \ud83d\udcac"}),"\n",(0,s.jsx)(n.h2,{id:"step-6-add-environment-based-configuration",children:"Step 6: Add Environment-Based Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/config.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import 'dotenv/config';\nimport { OpenAIBackendAdapter } from 'ai.matey.backend/openai';\nimport { AnthropicBackendAdapter } from 'ai.matey.backend/anthropic';\nimport { OllamaBackendAdapter } from 'ai.matey.backend/ollama';\n\nexport function getBackend() {\n  const env = process.env.NODE_ENV || 'development';\n\n  switch (env) {\n    case 'production':\n      // Use OpenAI in production\n      if (!process.env.OPENAI_API_KEY) {\n        throw new Error('OPENAI_API_KEY required for production');\n      }\n      return new OpenAIBackendAdapter({\n        apiKey: process.env.OPENAI_API_KEY\n      });\n\n    case 'staging':\n      // Use Anthropic in staging\n      if (!process.env.ANTHROPIC_API_KEY) {\n        throw new Error('ANTHROPIC_API_KEY required for staging');\n      }\n      return new AnthropicBackendAdapter({\n        apiKey: process.env.ANTHROPIC_API_KEY\n      });\n\n    case 'development':\n    default:\n      // Use local Ollama in development\n      return new OllamaBackendAdapter({\n        baseURL: process.env.OLLAMA_BASE_URL || 'http://localhost:11434'\n      });\n  }\n}\n\nexport const backend = getBackend();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"src/bridge.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Bridge } from 'ai.matey.core';\nimport { OpenAIFrontendAdapter } from 'ai.matey.frontend/openai';\nimport { backend } from './config.js';\n\nexport const bridge = new Bridge(\n  new OpenAIFrontendAdapter(),\n  backend\n);\n\n// ... rest of the code\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now you can switch environments:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Development (uses Ollama)\nnpx tsx src/test.ts\n\n# Staging (uses Anthropic)\nNODE_ENV=staging npx tsx src/test.ts\n\n# Production (uses OpenAI)\nNODE_ENV=production npx tsx src/test.ts\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-7-add-middleware",children:"Step 7: Add Middleware"}),"\n",(0,s.jsx)(n.p,{children:"Install middleware:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install ai.matey.middleware\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"src/bridge.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { Bridge } from 'ai.matey.core';\nimport { OpenAIFrontendAdapter } from 'ai.matey.frontend/openai';\nimport { backend } from './config.js';\nimport {\n  createLoggingMiddleware,\n  createRetryMiddleware,\n  createCachingMiddleware\n} from 'ai.matey.middleware';\n\nconst middleware = [\n  createLoggingMiddleware({\n    level: 'info',\n    sanitize: true // Remove API keys from logs\n  }),\n  createRetryMiddleware({\n    maxAttempts: 3,\n    initialDelay: 1000\n  }),\n  createCachingMiddleware({\n    ttl: 300000 // 5 minutes\n  })\n];\n\nexport const bridge = new Bridge(\n  new OpenAIFrontendAdapter(),\n  backend,\n  middleware\n);\n\n// ... rest of the code\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now you get:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Automatic logging"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Retries on failure"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Response caching"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-8-create-a-cli-tool",children:"Step 8: Create a CLI Tool"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"src/cli.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"#!/usr/bin/env node\nimport { chat, chatStream } from './bridge.js';\n\nconst args = process.argv.slice(2);\n\nif (args.length === 0) {\n  console.log('Usage: npm run chat \"Your message here\"');\n  console.log('       npm run chat:stream \"Your message here\"');\n  process.exit(1);\n}\n\nconst message = args.join(' ');\nconst isStream = process.argv[1].includes('stream');\n\nasync function main() {\n  try {\n    if (isStream) {\n      console.log('Streaming response:\\n');\n      const stream = await chatStream(message);\n\n      for await (const chunk of stream) {\n        const delta = chunk.choices[0]?.delta?.content;\n        if (delta) {\n          process.stdout.write(delta);\n        }\n      }\n      console.log('\\n');\n    } else {\n      const response = await chat(message);\n      console.log(response);\n    }\n  } catch (error) {\n    console.error('Error:', error instanceof Error ? error.message : error);\n    process.exit(1);\n  }\n}\n\nmain();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Add scripts to ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "chat": "tsx src/cli.ts",\n    "chat:stream": "tsx src/cli.ts"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Use it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'npm run chat "What is the capital of France?"\nnpm run chat:stream "Write a poem about coding"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"final-project-structure",children:"Final Project Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"my-ai-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 bridge.ts          # Bridge setup\n\u2502   \u251c\u2500\u2500 config.ts          # Environment config\n\u2502   \u251c\u2500\u2500 conversation.ts    # Multi-turn chat\n\u2502   \u251c\u2500\u2500 cli.ts            # CLI tool\n\u2502   \u251c\u2500\u2500 test.ts           # Basic test\n\u2502   \u251c\u2500\u2500 test-stream.ts    # Streaming test\n\u2502   \u2514\u2500\u2500 test-conversation.ts\n\u251c\u2500\u2500 .env                   # API keys\n\u251c\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 package.json\n"})}),"\n",(0,s.jsx)(n.h2,{id:"what-youve-learned",children:"What You've Learned"}),"\n",(0,s.jsx)(n.p,{children:"\u2705 Creating a bridge with frontend and backend adapters\n\u2705 Error handling for API failures\n\u2705 Streaming responses for real-time output\n\u2705 Multi-turn conversations with context\n\u2705 Environment-based configuration\n\u2705 Middleware for logging, retry, and caching\n\u2705 Building a CLI tool"}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.h3,{id:"explore-more-examples",children:"Explore More Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/03-middleware",children:"Middleware Examples"})})," - Advanced middleware patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/04-routing",children:"Routing Examples"})})," - Multi-provider routing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/05-http-servers",children:"HTTP Server Examples"})})," - Build HTTP APIs"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"dive-deeper",children:"Dive Deeper"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/guides/architecture/ir-format",children:"IR Format Guide"})})," - Understand IR format"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/packages/backend",children:"Backend Package"})})," - All 24+ providers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/packages/middleware",children:"Middleware Package"})})," - All middleware types"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-real-applications",children:"Build Real Applications"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/09-react",children:"React Integration"})})," - Build chat UIs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/07-advanced-patterns",children:"Advanced Patterns"})})," - Best practices"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/guides/testing",children:"Testing"})})," - Test your AI code"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-enhancements",children:"Common Enhancements"}),"\n",(0,s.jsx)(n.h3,{id:"add-rate-limiting",children:"Add Rate Limiting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { createRateLimitMiddleware } from 'ai.matey.middleware';\n\nconst middleware = [\n  createRateLimitMiddleware({\n    maxRequests: 10,\n    windowMs: 60000 // 10 requests per minute\n  })\n];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"add-cost-tracking",children:"Add Cost Tracking"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { createCostTrackingMiddleware } from 'ai.matey.middleware';\n\nconst middleware = [\n  createCostTrackingMiddleware({\n    onCost: (cost, provider) => {\n      console.log(`Request cost: $${cost} (${provider})`);\n    }\n  })\n];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"add-multi-provider-fallback",children:"Add Multi-Provider Fallback"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { createRouter } from 'ai.matey.core';\nimport { OpenAIBackendAdapter } from 'ai.matey.backend/openai';\nimport { AnthropicBackendAdapter } from 'ai.matey.backend/anthropic';\n\nconst router = createRouter({\n  routingStrategy: 'fallback'\n})\n  .register('openai', new OpenAIBackendAdapter({ apiKey: openaiKey }))\n  .register('anthropic', new AnthropicBackendAdapter({ apiKey: anthropicKey }))\n  .setFallbackChain(['openai', 'anthropic']);\n\nconst bridge = new Bridge(\n  new OpenAIFrontendAdapter(),\n  router\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"invalid-api-key-error",children:'"Invalid API Key" Error'}),"\n",(0,s.jsxs)(n.p,{children:["Check your ",(0,s.jsx)(n.code,{children:".env"})," file and make sure the API key is correct."]}),"\n",(0,s.jsx)(n.h3,{id:"streaming-not-working",children:"Streaming Not Working"}),"\n",(0,s.jsxs)(n.p,{children:["Make sure you're iterating the stream with ",(0,s.jsx)(n.code,{children:"for await"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"for await (const chunk of stream) {\n  // Process chunk\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"typescript-errors",children:"TypeScript Errors"}),"\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.code,{children:"npm install ai.matey.types"})," for type definitions."]}),"\n",(0,s.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples",children:"Examples"})})," - Browse 35+ examples"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/api",children:"API Reference"})})," - Complete API docs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/issues",children:"GitHub Issues"})})," - Ask questions"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Congratulations!"})," \ud83c\udf89 You've built your first ai.matey application! Continue exploring with the ",(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples",children:"examples"})," or dive into ",(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples/07-advanced-patterns",children:"advanced patterns"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1184:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(4041);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);