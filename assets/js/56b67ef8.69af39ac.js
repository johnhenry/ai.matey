"use strict";(globalThis.webpackChunkai_matey_docs=globalThis.webpackChunkai_matey_docs||[]).push([[2064],{1184:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>c});var r=a(4041);const s={},i=r.createContext(s);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:n},e.children)}},2712:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"api/packages/ai.matey.utils","title":"ai.matey.utils","description":"Utility functions for AI Matey - Universal AI Adapter System","source":"@site/docs/api/packages/ai.matey.utils.md","sourceDirName":"api/packages","slug":"/api/packages/ai.matey.utils","permalink":"/ai.matey/api/packages/ai.matey.utils","draft":false,"unlisted":false,"editUrl":"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/docs/api/packages/ai.matey.utils.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docs","previous":{"title":"ai.matey.errors","permalink":"/ai.matey/api/packages/ai.matey.errors"},"next":{"title":"ai.matey.testing","permalink":"/ai.matey/api/packages/ai.matey.testing"}}');var s=a(1085),i=a(1184);const t={sidebar_position:5},c="ai.matey.utils",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Exports",id:"exports",level:2},{value:"Values",id:"values",level:3},{value:"<code>isValidMessageRole</code>",id:"isvalidmessagerole",level:4},{value:"<code>validateMessageContent</code>",id:"validatemessagecontent",level:4},{value:"<code>validateMessage</code>",id:"validatemessage",level:4},{value:"<code>validateMessages</code>",id:"validatemessages",level:4},{value:"<code>validateTemperature</code>",id:"validatetemperature",level:4},{value:"<code>validateMaxTokens</code>",id:"validatemaxtokens",level:4},{value:"<code>validateTopP</code>",id:"validatetopp",level:4},{value:"<code>validateParameters</code>",id:"validateparameters",level:4},{value:"<code>validateIRChatRequest</code>",id:"validateirchatrequest",level:4},{value:"<code>extractSystemMessages</code>",id:"extractsystemmessages",level:4},{value:"<code>combineSystemMessages</code>",id:"combinesystemmessages",level:4},{value:"<code>getFirstSystemMessage</code>",id:"getfirstsystemmessage",level:4},{value:"<code>normalizeSystemMessages</code>",id:"normalizesystemmessages",level:4},{value:"<code>addSystemMessage</code>",id:"addsystemmessage",level:4},{value:"<code>hasSystemMessages</code>",id:"hassystemmessages",level:4},{value:"<code>countSystemMessages</code>",id:"countsystemmessages",level:4},{value:"<code>normalizeTemperature</code>",id:"normalizetemperature",level:4},{value:"<code>denormalizeTemperature</code>",id:"denormalizetemperature",level:4},{value:"<code>normalizeTopP</code>",id:"normalizetopp",level:4},{value:"<code>normalizeTopK</code>",id:"normalizetopk",level:4},{value:"<code>normalizePenalty</code>",id:"normalizepenalty",level:4},{value:"<code>normalizeStopSequences</code>",id:"normalizestopsequences",level:4},{value:"<code>filterUnsupportedParameters</code>",id:"filterunsupportedparameters",level:4},{value:"<code>applyParameterDefaults</code>",id:"applyparameterdefaults",level:4},{value:"<code>mergeParameters</code>",id:"mergeparameters",level:4},{value:"<code>clampParameter</code>",id:"clampparameter",level:4},{value:"<code>sanitizeParameters</code>",id:"sanitizeparameters",level:4},{value:"<code>areParametersValid</code>",id:"areparametersvalid",level:4},{value:"<code>normalizeTemperatureWithWarnings</code>",id:"normalizetemperaturewithwarnings",level:4},{value:"<code>normalizeStopSequencesWithWarnings</code>",id:"normalizestopsequenceswithwarnings",level:4},{value:"<code>filterUnsupportedParametersWithWarnings</code>",id:"filterunsupportedparameterswithwarnings",level:4},{value:"<code>createStreamAccumulator</code>",id:"createstreamaccumulator",level:4},{value:"<code>accumulateChunk</code>",id:"accumulatechunk",level:4},{value:"<code>accumulatorToMessage</code>",id:"accumulatortomessage",level:4},{value:"<code>accumulatorToResponse</code>",id:"accumulatortoresponse",level:4},{value:"<code>splitStream</code>",id:"splitstream",level:4},{value:"<code>isContentChunk</code>",id:"iscontentchunk",level:4},{value:"<code>isDoneChunk</code>",id:"isdonechunk",level:4},{value:"<code>isErrorChunk</code>",id:"iserrorchunk",level:4},{value:"<code>validateChunkSequence</code>",id:"validatechunksequence",level:4},{value:"<code>createStreamError</code>",id:"createstreamerror",level:4},{value:"<code>teeStream</code>",id:"teestream",level:4},{value:"<code>createAccumulatorState</code>",id:"createaccumulatorstate",level:4},{value:"<code>detectChunkMode</code>",id:"detectchunkmode",level:4},{value:"<code>needsConversion</code>",id:"needsconversion",level:4},{value:"<code>convertChunkMode</code>",id:"convertchunkmode",level:4},{value:"<code>getEffectiveStreamMode</code>",id:"geteffectivestreammode",level:4},{value:"<code>mergeStreamingConfig</code>",id:"mergestreamingconfig",level:4},{value:"<code>createWarning</code>",id:"createwarning",level:4},{value:"<code>createNormalizationWarning</code>",id:"createnormalizationwarning",level:4},{value:"<code>createClampingWarning</code>",id:"createclampingwarning",level:4},{value:"<code>createUnsupportedParameterWarning</code>",id:"createunsupportedparameterwarning",level:4},{value:"<code>createUnsupportedCapabilityWarning</code>",id:"createunsupportedcapabilitywarning",level:4},{value:"<code>createTokenLimitWarning</code>",id:"createtokenlimitwarning",level:4},{value:"<code>createStopSequencesTruncatedWarning</code>",id:"createstopsequencestruncatedwarning",level:4},{value:"<code>mergeWarnings</code>",id:"mergewarnings",level:4},{value:"<code>filterWarningsBySeverity</code>",id:"filterwarningsbyseverity",level:4},{value:"<code>filterWarningsByCategory</code>",id:"filterwarningsbycategory",level:4},{value:"<code>groupWarningsByCategory</code>",id:"groupwarningsbycategory",level:4},{value:"<code>hasWarning</code>",id:"haswarning",level:4},{value:"<code>formatWarning</code>",id:"formatwarning",level:4},{value:"<code>formatWarnings</code>",id:"formatwarnings",level:4},{value:"<code>getWarningSummary</code>",id:"getwarningsummary",level:4},{value:"<code>trimHistory</code>",id:"trimhistory",level:4},{value:"<code>countMessagePairs</code>",id:"countmessagepairs",level:4},{value:"<code>shouldTrimHistory</code>",id:"shouldtrimhistory",level:4},{value:"<code>ModelCache</code>",id:"modelcache",level:4},{value:"<code>globalModelCache</code>",id:"globalmodelcache",level:4},{value:"<code>getModelCache</code>",id:"getmodelcache",level:4},{value:"<code>schemaToToolDefinition</code>",id:"schematotooldefinition",level:4},{value:"<code>validateWithSchema</code>",id:"validatewithschema",level:4},{value:"<code>DEFAULT_PII_PATTERNS</code>",id:"default_pii_patterns",level:4},{value:"<code>DEFAULT_INJECTION_PATTERNS</code>",id:"default_injection_patterns",level:4},{value:"<code>detectPII</code>",id:"detectpii",level:4},{value:"<code>redactPII</code>",id:"redactpii",level:4},{value:"<code>detectPromptInjection</code>",id:"detectpromptinjection",level:4},{value:"<code>sanitizeText</code>",id:"sanitizetext",level:4},{value:"<code>createGenerateObject</code>",id:"creategenerateobject",level:4},{value:"<code>createStreamObject</code>",id:"createstreamobject",level:4},{value:"Types",id:"types",level:3},{value:"<code>NormalizationResult</code>",id:"normalizationresult",level:4},{value:"<code>StreamAccumulator</code>",id:"streamaccumulator",level:4},{value:"<code>SequenceValidationResult</code>",id:"sequencevalidationresult",level:4},{value:"<code>StreamValidationOptions</code>",id:"streamvalidationoptions",level:4},{value:"<code>CollectedStream</code>",id:"collectedstream",level:4},{value:"<code>ProcessStreamOptions</code>",id:"processstreamoptions",level:4},{value:"<code>StreamAccumulatorState</code>",id:"streamaccumulatorstate",level:4},{value:"<code>TrimStrategy</code>",id:"trimstrategy",level:4},{value:"<code>ToolDefinition</code>",id:"tooldefinition",level:4},{value:"<code>JSONSchema</code>",id:"jsonschema",level:4},{value:"<code>PIIMatch</code>",id:"piimatch",level:4},{value:"<code>PIIDetectionResult</code>",id:"piidetectionresult",level:4},{value:"<code>PIIPattern</code>",id:"piipattern",level:4},{value:"<code>ValidationResult</code>",id:"validationresult",level:4},{value:"<code>GenerateObjectOptions</code>",id:"generateobjectoptions",level:4},{value:"<code>GenerateObjectResult</code>",id:"generateobjectresult",level:4},{value:"<code>StreamObjectOptions</code>",id:"streamobjectoptions",level:4},{value:"Usage",id:"usage",level:2},{value:"Source Code",id:"source-code",level:2},{value:"Quick Links",id:"quick-links",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"aimateyutils",children:"ai.matey.utils"})}),"\n",(0,s.jsx)(n.p,{children:"Utility functions for AI Matey - Universal AI Adapter System"}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This package is part of the ai.matey ecosystem."}),"\n",(0,s.jsx)(n.h2,{id:"exports",children:"Exports"}),"\n",(0,s.jsx)(n.h3,{id:"values",children:"Values"}),"\n",(0,s.jsx)(n.h4,{id:"isvalidmessagerole",children:(0,s.jsx)(n.code,{children:"isValidMessageRole"})}),"\n",(0,s.jsx)(n.p,{children:"Validate message role."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"isValidMessageRole(role: string): role is MessageRole\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatemessagecontent",children:(0,s.jsx)(n.code,{children:"validateMessageContent"})}),"\n",(0,s.jsx)(n.p,{children:"Validate message content."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateMessageContent(content: unknown, provenance?: ErrorProvenance): void\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatemessage",children:(0,s.jsx)(n.code,{children:"validateMessage"})}),"\n",(0,s.jsx)(n.p,{children:"Validate a single message."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateMessage(message: unknown, provenance?: ErrorProvenance): asserts message is IRMessage\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatemessages",children:(0,s.jsx)(n.code,{children:"validateMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Validate messages array."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateMessages(messages: unknown, provenance?: ErrorProvenance): asserts messages is IRMessage[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatetemperature",children:(0,s.jsx)(n.code,{children:"validateTemperature"})}),"\n",(0,s.jsx)(n.p,{children:"Validate temperature parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateTemperature(temperature: unknown, provenance?: ErrorProvenance): void\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatemaxtokens",children:(0,s.jsx)(n.code,{children:"validateMaxTokens"})}),"\n",(0,s.jsx)(n.p,{children:"Validate maxTokens parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateMaxTokens(maxTokens: unknown, provenance?: ErrorProvenance): void\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatetopp",children:(0,s.jsx)(n.code,{children:"validateTopP"})}),"\n",(0,s.jsx)(n.p,{children:"Validate topP parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateTopP(topP: unknown, provenance?: ErrorProvenance): void\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validateparameters",children:(0,s.jsx)(n.code,{children:"validateParameters"})}),"\n",(0,s.jsx)(n.p,{children:"Validate parameters object."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateParameters(parameters: unknown, provenance?: ErrorProvenance): asserts parameters is IRParameters\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validateirchatrequest",children:(0,s.jsx)(n.code,{children:"validateIRChatRequest"})}),"\n",(0,s.jsx)(n.p,{children:"Validate IR chat request."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateIRChatRequest(request: unknown, provenance?: ErrorProvenance): asserts request is IRChatRequest\n"})}),"\n",(0,s.jsx)(n.h4,{id:"extractsystemmessages",children:(0,s.jsx)(n.code,{children:"extractSystemMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Extract system messages from message array."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"extractSystemMessages(messages: readonly IRMessage[])\n"})}),"\n",(0,s.jsx)(n.h4,{id:"combinesystemmessages",children:(0,s.jsx)(n.code,{children:"combineSystemMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Combine multiple system messages into a single string."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"combineSystemMessages(systemMessages: readonly IRMessage[], separator = '\\n\\n'): string\n"})}),"\n",(0,s.jsx)(n.h4,{id:"getfirstsystemmessage",children:(0,s.jsx)(n.code,{children:"getFirstSystemMessage"})}),"\n",(0,s.jsx)(n.p,{children:"Get first system message as string (for providers that only support one)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"getFirstSystemMessage(messages: readonly IRMessage[]): string | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizesystemmessages",children:(0,s.jsx)(n.code,{children:"normalizeSystemMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize system messages according to provider strategy."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeSystemMessages(messages: readonly IRMessage[], strategy: SystemMessageStrategy, supportsMultiple: boolean = false)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"addsystemmessage",children:(0,s.jsx)(n.code,{children:"addSystemMessage"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"addSystemMessage(messages: readonly IRMessage[], systemContent: string, strategy: SystemMessageStrategy = 'in-messages', supportsMultiple: boolean = false): IRMessage[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"hassystemmessages",children:(0,s.jsx)(n.code,{children:"hasSystemMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Check if messages contain any system messages."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"hasSystemMessages(messages: readonly IRMessage[]): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"countsystemmessages",children:(0,s.jsx)(n.code,{children:"countSystemMessages"})}),"\n",(0,s.jsx)(n.p,{children:"Count system messages in array."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"countSystemMessages(messages: readonly IRMessage[]): number\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizetemperature",children:(0,s.jsx)(n.code,{children:"normalizeTemperature"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize temperature to provider's range."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeTemperature(temperature: number | undefined, targetRange: '0-1' | '0-2' = '0-2'): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"denormalizetemperature",children:(0,s.jsx)(n.code,{children:"denormalizeTemperature"})}),"\n",(0,s.jsx)(n.p,{children:"Denormalize temperature from provider's range back to IR."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"denormalizeTemperature(temperature: number | undefined, sourceRange: '0-1' | '0-2' = '0-2'): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizetopp",children:(0,s.jsx)(n.code,{children:"normalizeTopP"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize topP parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeTopP(topP: number | undefined): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizetopk",children:(0,s.jsx)(n.code,{children:"normalizeTopK"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize topK parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeTopK(topK: number | undefined, maxTopK: number = 100): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizepenalty",children:(0,s.jsx)(n.code,{children:"normalizePenalty"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize penalty parameters (frequency, presence)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizePenalty(penalty: number | undefined, targetRange: { min: number; max: number } = { min: -2, max: 2 }): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizestopsequences",children:(0,s.jsx)(n.code,{children:"normalizeStopSequences"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize stop sequences."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeStopSequences(stopSequences: readonly string[] | undefined, maxStopSequences?: number): string[] | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"filterunsupportedparameters",children:(0,s.jsx)(n.code,{children:"filterUnsupportedParameters"})}),"\n",(0,s.jsx)(n.p,{children:"Filter parameters based on provider capabilities."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"filterUnsupportedParameters(parameters: IRParameters | undefined, capabilities: IRCapabilities): IRParameters\n"})}),"\n",(0,s.jsx)(n.h4,{id:"applyparameterdefaults",children:(0,s.jsx)(n.code,{children:"applyParameterDefaults"})}),"\n",(0,s.jsx)(n.p,{children:"Apply parameter defaults."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"applyParameterDefaults(parameters: IRParameters | undefined, defaults: Partial<IRParameters>): IRParameters\n"})}),"\n",(0,s.jsx)(n.h4,{id:"mergeparameters",children:(0,s.jsx)(n.code,{children:"mergeParameters"})}),"\n",(0,s.jsx)(n.p,{children:"Merge parameter objects."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"mergeParameters(...parameterSets: Array<IRParameters | undefined>): IRParameters\n"})}),"\n",(0,s.jsx)(n.h4,{id:"clampparameter",children:(0,s.jsx)(n.code,{children:"clampParameter"})}),"\n",(0,s.jsx)(n.p,{children:"Clamp parameter to valid range."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"clampParameter(value: number | undefined, min: number, max: number): number | undefined\n"})}),"\n",(0,s.jsx)(n.h4,{id:"sanitizeparameters",children:(0,s.jsx)(n.code,{children:"sanitizeParameters"})}),"\n",(0,s.jsx)(n.p,{children:"Sanitize parameters by clamping to valid ranges."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"sanitizeParameters(parameters: IRParameters | undefined): IRParameters\n"})}),"\n",(0,s.jsx)(n.h4,{id:"areparametersvalid",children:(0,s.jsx)(n.code,{children:"areParametersValid"})}),"\n",(0,s.jsx)(n.p,{children:"Check if parameters are within valid ranges."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"areParametersValid(parameters: IRParameters | undefined): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizetemperaturewithwarnings",children:(0,s.jsx)(n.code,{children:"normalizeTemperatureWithWarnings"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize temperature with warning generation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeTemperatureWithWarnings(temperature: number | undefined, targetRange: '0-1' | '0-2' = '0-2', source?: string): NormalizationResult<number | undefined>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"normalizestopsequenceswithwarnings",children:(0,s.jsx)(n.code,{children:"normalizeStopSequencesWithWarnings"})}),"\n",(0,s.jsx)(n.p,{children:"Normalize stop sequences with warning generation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"normalizeStopSequencesWithWarnings(stopSequences: readonly string[] | undefined, maxStopSequences: number | undefined, source?: string): NormalizationResult<string[] | undefined>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"filterunsupportedparameterswithwarnings",children:(0,s.jsx)(n.code,{children:"filterUnsupportedParametersWithWarnings"})}),"\n",(0,s.jsx)(n.p,{children:"Filter parameters with warning generation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"filterUnsupportedParametersWithWarnings(parameters: IRParameters | undefined, capabilities: IRCapabilities, source?: string): NormalizationResult<IRParameters>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createstreamaccumulator",children:(0,s.jsx)(n.code,{children:"createStreamAccumulator"})}),"\n",(0,s.jsx)(n.p,{children:"Create a new stream accumulator."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createStreamAccumulator(): StreamAccumulator\n"})}),"\n",(0,s.jsx)(n.h4,{id:"accumulatechunk",children:(0,s.jsx)(n.code,{children:"accumulateChunk"})}),"\n",(0,s.jsx)(n.p,{children:"Accumulate a stream chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"accumulateChunk(accumulator: StreamAccumulator, chunk: IRStreamChunk): StreamAccumulator\n"})}),"\n",(0,s.jsx)(n.h4,{id:"accumulatortomessage",children:(0,s.jsx)(n.code,{children:"accumulatorToMessage"})}),"\n",(0,s.jsx)(n.p,{children:"Convert accumulated state to IR message."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"accumulatorToMessage(accumulator: StreamAccumulator): IRMessage\n"})}),"\n",(0,s.jsx)(n.h4,{id:"accumulatortoresponse",children:(0,s.jsx)(n.code,{children:"accumulatorToResponse"})}),"\n",(0,s.jsx)(n.p,{children:"Convert accumulated state and done chunk to IR response."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"accumulatorToResponse(accumulator: StreamAccumulator, doneChunk: StreamDoneChunk, requestMetadata: IRMetadata): IRChatResponse\n"})}),"\n",(0,s.jsx)(n.h4,{id:"splitstream",children:(0,s.jsx)(n.code,{children:"splitStream"})}),"\n",(0,s.jsx)(n.p,{children:"Split a stream into multiple consumers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"splitStream(stream: IRChatStream, consumerCount: number): IRChatStream[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"iscontentchunk",children:(0,s.jsx)(n.code,{children:"isContentChunk"})}),"\n",(0,s.jsx)(n.p,{children:"Check if a chunk is a content chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"isContentChunk(chunk: IRStreamChunk): chunk is StreamContentChunk\n"})}),"\n",(0,s.jsx)(n.h4,{id:"isdonechunk",children:(0,s.jsx)(n.code,{children:"isDoneChunk"})}),"\n",(0,s.jsx)(n.p,{children:"Check if a chunk is a done chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"isDoneChunk(chunk: IRStreamChunk): chunk is StreamDoneChunk\n"})}),"\n",(0,s.jsx)(n.h4,{id:"iserrorchunk",children:(0,s.jsx)(n.code,{children:"isErrorChunk"})}),"\n",(0,s.jsx)(n.p,{children:"Check if a chunk is an error chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"isErrorChunk(chunk: IRStreamChunk): chunk is StreamErrorChunk\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatechunksequence",children:(0,s.jsx)(n.code,{children:"validateChunkSequence"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"validateChunkSequence(chunks: IRStreamChunk[]): SequenceValidationResult\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createstreamerror",children:(0,s.jsx)(n.code,{children:"createStreamError"})}),"\n",(0,s.jsx)(n.p,{children:"Create an error chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createStreamError(code: string, message: string, sequence: number, details?: Record<string, unknown>): StreamErrorChunk\n"})}),"\n",(0,s.jsx)(n.h4,{id:"teestream",children:(0,s.jsx)(n.code,{children:"teeStream"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"teeStream(stream: IRChatStream, count: number = 2): IRChatStream[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createaccumulatorstate",children:(0,s.jsx)(n.code,{children:"createAccumulatorState"})}),"\n",(0,s.jsx)(n.p,{children:"Create a new stream accumulator state."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createAccumulatorState(): StreamAccumulatorState\n"})}),"\n",(0,s.jsx)(n.h4,{id:"detectchunkmode",children:(0,s.jsx)(n.code,{children:"detectChunkMode"})}),"\n",(0,s.jsx)(n.p,{children:"Detect the streaming mode of a content chunk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"detectChunkMode(chunk: StreamContentChunk): StreamMode\n"})}),"\n",(0,s.jsx)(n.h4,{id:"needsconversion",children:(0,s.jsx)(n.code,{children:"needsConversion"})}),"\n",(0,s.jsx)(n.p,{children:"Check if a chunk needs conversion to target mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"needsConversion(chunk: StreamContentChunk, targetMode: StreamMode, preserveIfMatch = true): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"convertchunkmode",children:(0,s.jsx)(n.code,{children:"convertChunkMode"})}),"\n",(0,s.jsx)(n.p,{children:"Convert a single content chunk to target mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"convertChunkMode(chunk: StreamContentChunk, targetMode: StreamMode, state: StreamAccumulatorState, transform?: (text: string)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"geteffectivestreammode",children:(0,s.jsx)(n.code,{children:"getEffectiveStreamMode"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"getEffectiveStreamMode(requestMode?: StreamMode, conversionMode?: StreamMode, config?: StreamingConfig): StreamMode\n"})}),"\n",(0,s.jsx)(n.h4,{id:"mergestreamingconfig",children:(0,s.jsx)(n.code,{children:"mergeStreamingConfig"})}),"\n",(0,s.jsx)(n.p,{children:"Merge streaming configurations with priority."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"mergeStreamingConfig(...configs: (StreamingConfig | undefined)[]): Required<StreamingConfig>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createwarning",children:(0,s.jsx)(n.code,{children:"createWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a warning object."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createWarning(category: WarningCategory, message: string, options: { severity?: WarningSeverity; field?: string; originalValue?: unknown; transformedValue?: unknown; source?: string; details?: Record<string, unknown>; } = {}): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createnormalizationwarning",children:(0,s.jsx)(n.code,{children:"createNormalizationWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a parameter normalization warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createNormalizationWarning(field: string, originalValue: unknown, transformedValue: unknown, message?: string, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createclampingwarning",children:(0,s.jsx)(n.code,{children:"createClampingWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a parameter clamping warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createClampingWarning(field: string, originalValue: unknown, clampedValue: unknown, min: number, max: number, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createunsupportedparameterwarning",children:(0,s.jsx)(n.code,{children:"createUnsupportedParameterWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create an unsupported parameter warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createUnsupportedParameterWarning(field: string, value: unknown, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createunsupportedcapabilitywarning",children:(0,s.jsx)(n.code,{children:"createUnsupportedCapabilityWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a capability unsupported warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createUnsupportedCapabilityWarning(capability: string, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createtokenlimitwarning",children:(0,s.jsx)(n.code,{children:"createTokenLimitWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a token limit exceeded warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createTokenLimitWarning(estimatedTokens: number, maxTokens: number, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createstopsequencestruncatedwarning",children:(0,s.jsx)(n.code,{children:"createStopSequencesTruncatedWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Create a stop sequences truncated warning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createStopSequencesTruncatedWarning(originalCount: number, maxCount: number, source?: string): IRWarning\n"})}),"\n",(0,s.jsx)(n.h4,{id:"mergewarnings",children:(0,s.jsx)(n.code,{children:"mergeWarnings"})}),"\n",(0,s.jsx)(n.p,{children:"Merge warning arrays, removing duplicates."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"mergeWarnings(...warningArrays: Array<readonly IRWarning[] | undefined>): IRWarning[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"filterwarningsbyseverity",children:(0,s.jsx)(n.code,{children:"filterWarningsBySeverity"})}),"\n",(0,s.jsx)(n.p,{children:"Filter warnings by severity."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"filterWarningsBySeverity(warnings: readonly IRWarning[], minSeverity: WarningSeverity): IRWarning[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"filterwarningsbycategory",children:(0,s.jsx)(n.code,{children:"filterWarningsByCategory"})}),"\n",(0,s.jsx)(n.p,{children:"Filter warnings by category."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"filterWarningsByCategory(warnings: readonly IRWarning[], categories: readonly WarningCategory[]): IRWarning[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"groupwarningsbycategory",children:(0,s.jsx)(n.code,{children:"groupWarningsByCategory"})}),"\n",(0,s.jsx)(n.p,{children:"Group warnings by category."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"groupWarningsByCategory(warnings: readonly IRWarning[]): Map<WarningCategory, IRWarning[]>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"haswarning",children:(0,s.jsx)(n.code,{children:"hasWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Check if warnings array contains a specific warning type."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"hasWarning(warnings: readonly IRWarning[] | undefined, category: WarningCategory, field?: string): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"formatwarning",children:(0,s.jsx)(n.code,{children:"formatWarning"})}),"\n",(0,s.jsx)(n.p,{children:"Format a single warning as a string."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"formatWarning(warning: IRWarning, includeDetails = false): string\n"})}),"\n",(0,s.jsx)(n.h4,{id:"formatwarnings",children:(0,s.jsx)(n.code,{children:"formatWarnings"})}),"\n",(0,s.jsx)(n.p,{children:"Format multiple warnings as a string."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"formatWarnings(warnings: readonly IRWarning[], includeDetails = false): string\n"})}),"\n",(0,s.jsx)(n.h4,{id:"getwarningsummary",children:(0,s.jsx)(n.code,{children:"getWarningSummary"})}),"\n",(0,s.jsx)(n.p,{children:"Get a summary of warnings by category."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"getWarningSummary(warnings: readonly IRWarning[])\n"})}),"\n",(0,s.jsx)(n.h4,{id:"trimhistory",children:(0,s.jsx)(n.code,{children:"trimHistory"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"trimHistory(history: readonly IRMessage[], maxHistorySize: number, strategy: TrimStrategy = 'fifo'): IRMessage[]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"countmessagepairs",children:(0,s.jsx)(n.code,{children:"countMessagePairs"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"countMessagePairs(history: readonly IRMessage[]): number\n"})}),"\n",(0,s.jsx)(n.h4,{id:"shouldtrimhistory",children:(0,s.jsx)(n.code,{children:"shouldTrimHistory"})}),"\n",(0,s.jsx)(n.p,{children:"Check if history needs trimming"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"shouldTrimHistory(history: readonly IRMessage[], maxHistorySize: number, strategy: TrimStrategy = 'fifo'): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"modelcache",children:(0,s.jsx)(n.code,{children:"ModelCache"})}),"\n",(0,s.jsx)(n.h4,{id:"globalmodelcache",children:(0,s.jsx)(n.code,{children:"globalModelCache"})}),"\n",(0,s.jsx)(n.p,{children:"Global model cache shared across all adapter instances."}),"\n",(0,s.jsx)(n.h4,{id:"getmodelcache",children:(0,s.jsx)(n.code,{children:"getModelCache"})}),"\n",(0,s.jsx)(n.p,{children:"Create or get model cache based on scope strategy."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"getModelCache(scope: 'global' | 'instance' = 'global'): ModelCache\n"})}),"\n",(0,s.jsx)(n.h4,{id:"schematotooldefinition",children:(0,s.jsx)(n.code,{children:"schemaToToolDefinition"})}),"\n",(0,s.jsx)(n.p,{children:"Convert a Zod schema to an OpenAI tool definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"schemaToToolDefinition(schema: any, // Using any to avoid importing z.ZodType name: string = 'extract_data', description: string = 'Extract structured data from the input'): ToolDefinition\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validatewithschema",children:(0,s.jsx)(n.code,{children:"validateWithSchema"})}),"\n",(0,s.jsx)(n.p,{children:"Validate data against a Zod schema"}),"\n",(0,s.jsx)(n.h4,{id:"default_pii_patterns",children:(0,s.jsx)(n.code,{children:"DEFAULT_PII_PATTERNS"})}),"\n",(0,s.jsx)(n.p,{children:"Default PII patterns for detection"}),"\n",(0,s.jsx)(n.h4,{id:"default_injection_patterns",children:(0,s.jsx)(n.code,{children:"DEFAULT_INJECTION_PATTERNS"})}),"\n",(0,s.jsx)(n.p,{children:"Default prompt injection patterns"}),"\n",(0,s.jsx)(n.h4,{id:"detectpii",children:(0,s.jsx)(n.code,{children:"detectPII"})}),"\n",(0,s.jsx)(n.p,{children:"Detect PII in text"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"detectPII(text: string, patterns: PIIPattern[] = DEFAULT_PII_PATTERNS): PIIDetectionResult\n"})}),"\n",(0,s.jsx)(n.h4,{id:"redactpii",children:(0,s.jsx)(n.code,{children:"redactPII"})}),"\n",(0,s.jsx)(n.p,{children:"Redact PII from text"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"redactPII(text: string, patterns: PIIPattern[] = DEFAULT_PII_PATTERNS): string\n"})}),"\n",(0,s.jsx)(n.h4,{id:"detectpromptinjection",children:(0,s.jsx)(n.code,{children:"detectPromptInjection"})}),"\n",(0,s.jsx)(n.p,{children:"Detect prompt injection attempts"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"detectPromptInjection(text: string, patterns: RegExp[] = DEFAULT_INJECTION_PATTERNS): boolean\n"})}),"\n",(0,s.jsx)(n.h4,{id:"sanitizetext",children:(0,s.jsx)(n.code,{children:"sanitizeText"})}),"\n",(0,s.jsx)(n.p,{children:"Sanitize text by removing control characters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"sanitizeText(text: string): string\n"})}),"\n",(0,s.jsx)(n.h4,{id:"creategenerateobject",children:(0,s.jsx)(n.code,{children:"createGenerateObject"})}),"\n",(0,s.jsx)(n.p,{children:"Create a generateObject function bound to a Bridge instance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createGenerateObject(bridge: any)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"createstreamobject",children:(0,s.jsx)(n.code,{children:"createStreamObject"})}),"\n",(0,s.jsx)(n.p,{children:"Create a streamObject function bound to a Bridge instance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"createStreamObject(bridge: any)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"types",children:"Types"}),"\n",(0,s.jsx)(n.h4,{id:"normalizationresult",children:(0,s.jsx)(n.code,{children:"NormalizationResult"})}),"\n",(0,s.jsx)(n.p,{children:"Result of parameter normalization with warnings."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"NormalizationResult <T>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"streamaccumulator",children:(0,s.jsx)(n.code,{children:"StreamAccumulator"})}),"\n",(0,s.jsx)(n.p,{children:"Accumulated stream state."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"StreamAccumulator\n"})}),"\n",(0,s.jsx)(n.h4,{id:"sequencevalidationresult",children:(0,s.jsx)(n.code,{children:"SequenceValidationResult"})}),"\n",(0,s.jsx)(n.p,{children:"Validate chunk sequence numbers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"SequenceValidationResult\n"})}),"\n",(0,s.jsx)(n.h4,{id:"streamvalidationoptions",children:(0,s.jsx)(n.code,{children:"StreamValidationOptions"})}),"\n",(0,s.jsx)(n.p,{children:"Create a validating stream wrapper."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"StreamValidationOptions\n"})}),"\n",(0,s.jsx)(n.h4,{id:"collectedstream",children:(0,s.jsx)(n.code,{children:"CollectedStream"})}),"\n",(0,s.jsx)(n.p,{children:"Rich result from collecting a stream."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"CollectedStream\n"})}),"\n",(0,s.jsx)(n.h4,{id:"processstreamoptions",children:(0,s.jsx)(n.code,{children:"ProcessStreamOptions"})}),"\n",(0,s.jsx)(n.p,{children:"Options for processing a stream with callbacks."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"ProcessStreamOptions\n"})}),"\n",(0,s.jsx)(n.h4,{id:"streamaccumulatorstate",children:(0,s.jsx)(n.code,{children:"StreamAccumulatorState"})}),"\n",(0,s.jsx)(n.p,{children:"Stream accumulator state for tracking accumulated content."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"StreamAccumulatorState\n"})}),"\n",(0,s.jsx)(n.h4,{id:"trimstrategy",children:(0,s.jsx)(n.code,{children:"TrimStrategy"})}),"\n",(0,s.jsx)(n.p,{children:"Strategy for trimming conversation history"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"TrimStrategy  = 'fifo' | 'smart'\n"})}),"\n",(0,s.jsx)(n.h4,{id:"tooldefinition",children:(0,s.jsx)(n.code,{children:"ToolDefinition"})}),"\n",(0,s.jsx)(n.p,{children:"OpenAI-compatible tool definition format"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"ToolDefinition\n"})}),"\n",(0,s.jsx)(n.h4,{id:"jsonschema",children:(0,s.jsx)(n.code,{children:"JSONSchema"})}),"\n",(0,s.jsx)(n.p,{children:"JSON Schema representation (subset used for tool definitions)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"JSONSchema\n"})}),"\n",(0,s.jsx)(n.h4,{id:"piimatch",children:(0,s.jsx)(n.code,{children:"PIIMatch"})}),"\n",(0,s.jsx)(n.p,{children:"PII match information"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"PIIMatch\n"})}),"\n",(0,s.jsx)(n.h4,{id:"piidetectionresult",children:(0,s.jsx)(n.code,{children:"PIIDetectionResult"})}),"\n",(0,s.jsx)(n.p,{children:"PII detection result"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"PIIDetectionResult\n"})}),"\n",(0,s.jsx)(n.h4,{id:"piipattern",children:(0,s.jsx)(n.code,{children:"PIIPattern"})}),"\n",(0,s.jsx)(n.p,{children:"PII pattern configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"PIIPattern\n"})}),"\n",(0,s.jsx)(n.h4,{id:"validationresult",children:(0,s.jsx)(n.code,{children:"ValidationResult"})}),"\n",(0,s.jsx)(n.p,{children:"Validation result"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"ValidationResult <T> = \n"})}),"\n",(0,s.jsx)(n.h4,{id:"generateobjectoptions",children:(0,s.jsx)(n.code,{children:"GenerateObjectOptions"})}),"\n",(0,s.jsx)(n.p,{children:"Options for generateObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"GenerateObjectOptions <T = any>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"generateobjectresult",children:(0,s.jsx)(n.code,{children:"GenerateObjectResult"})}),"\n",(0,s.jsx)(n.p,{children:"Result from generateObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"GenerateObjectResult <T>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"streamobjectoptions",children:(0,s.jsx)(n.code,{children:"StreamObjectOptions"})}),"\n",(0,s.jsx)(n.p,{children:"Options for streamObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"StreamObjectOptions <T = any>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import {\n  isValidMessageRole,\n  validateMessageContent,\n  validateMessage,\n  validateMessages,\n  validateTemperature,\n  validateMaxTokens,\n  validateTopP,\n  validateParameters,\n  validateIRChatRequest,\n  extractSystemMessages,\n  combineSystemMessages,\n  getFirstSystemMessage,\n  normalizeSystemMessages,\n  addSystemMessage,\n  hasSystemMessages,\n  countSystemMessages,\n  normalizeTemperature,\n  denormalizeTemperature,\n  normalizeTopP,\n  normalizeTopK,\n  normalizePenalty,\n  normalizeStopSequences,\n  filterUnsupportedParameters,\n  applyParameterDefaults,\n  mergeParameters,\n  clampParameter,\n  sanitizeParameters,\n  areParametersValid,\n  normalizeTemperatureWithWarnings,\n  normalizeStopSequencesWithWarnings,\n  filterUnsupportedParametersWithWarnings,\n  createStreamAccumulator,\n  accumulateChunk,\n  accumulatorToMessage,\n  accumulatorToResponse,\n  splitStream,\n  isContentChunk,\n  isDoneChunk,\n  isErrorChunk,\n  validateChunkSequence,\n  createStreamError,\n  teeStream,\n  createAccumulatorState,\n  detectChunkMode,\n  needsConversion,\n  convertChunkMode,\n  getEffectiveStreamMode,\n  mergeStreamingConfig,\n  createWarning,\n  createNormalizationWarning,\n  createClampingWarning,\n  createUnsupportedParameterWarning,\n  createUnsupportedCapabilityWarning,\n  createTokenLimitWarning,\n  createStopSequencesTruncatedWarning,\n  mergeWarnings,\n  filterWarningsBySeverity,\n  filterWarningsByCategory,\n  groupWarningsByCategory,\n  hasWarning,\n  formatWarning,\n  formatWarnings,\n  getWarningSummary,\n  trimHistory,\n  countMessagePairs,\n  shouldTrimHistory,\n  ModelCache,\n  globalModelCache,\n  getModelCache,\n  schemaToToolDefinition,\n  validateWithSchema,\n  DEFAULT_PII_PATTERNS,\n  DEFAULT_INJECTION_PATTERNS,\n  detectPII,\n  redactPII,\n  detectPromptInjection,\n  sanitizeText,\n  createGenerateObject,\n  createStreamObject\n} from 'ai.matey.utils';\n\nimport type {\n  NormalizationResult,\n  StreamAccumulator,\n  SequenceValidationResult,\n  StreamValidationOptions,\n  CollectedStream,\n  ProcessStreamOptions,\n  StreamAccumulatorState,\n  TrimStrategy,\n  ToolDefinition,\n  JSONSchema,\n  PIIMatch,\n  PIIDetectionResult,\n  PIIPattern,\n  ValidationResult,\n  GenerateObjectOptions,\n  GenerateObjectResult,\n  StreamObjectOptions\n} from 'ai.matey.utils';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"source-code",children:"Source Code"}),"\n",(0,s.jsx)(n.p,{children:"View the complete source code and implementation details:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.utils",children:"Package Source Code"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.utils/src",children:"View on GitHub"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quick-links",children:"Quick Links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.docs/examples",children:"Examples"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/getting-started/installation",children:"Main Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api/all-packages",children:"All Packages"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"https://github.com/johnhenry/ai.matey/tree/main/packages/ai.matey.utils",children:"package source"})," for complete API documentation and examples."]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);